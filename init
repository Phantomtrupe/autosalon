(function(m,w,h){var x="roistat_visit",B="roistat_first_visit",G="roistat_is_need_listen_requests",l="roistat_visit_cookie_expire",d="roistat_is_save_data_in_cookie",z="roistat_cookies_to_resave",n="roistat_is_need_disable_collector",g="1209600",t={expires:parseInt(g),path:"/"},y={expires:10*365*24*60*60,path:"/"};var v=function(J){try{return decodeURIComponent(J)}catch(K){var I;I=q(J);if(I===null){return J}return I}};var q=function(M){var L={"%E0":"%D0%B0","%E1":"%D0%B1","%E2":"%D0%B2","%E3":"%D0%B3","%E4":"%D0%B4","%E5":"%D0%B5","%B8":"%D1%91","%E6":"%D0%B6","%E7":"%D0%B7","%E8":"%D0%B8","%E9":"%D0%B9","%EA":"%D0%BA","%EB":"%D0%BB","%EC":"%D0%BC","%ED":"%D0%BD","%EE":"%D0%BE","%EF":"%D0%BF","%F0":"%D1%80","%F1":"%D1%81","%F2":"%D1%82","%F3":"%D1%83","%F4":"%D1%84","%F5":"%D1%85","%F6":"%D1%86","%F7":"%D1%87","%F8":"%D1%88","%F9":"%D1%89","%FC":"%D1%8C","%FB":"%D1%8B","%FA":"%D1%8A","%FD":"%D1%8D","%FE":"%D1%8E","%FF":"%D1%8F","%C0":"%D0%90","%C1":"%D0%91","%C2":"%D0%92","%C3":"%D0%93","%C4":"%D0%94","%C5":"%D0%95","%A8":"%D0%81","%C6":"%D0%96","%C7":"%D0%97","%C8":"%D0%98","%C9":"%D0%99","%CA":"%D0%9A","%CB":"%D0%9B","%CC":"%D0%9C","%CD":"%D0%9D","%CE":"%D0%9E","%CF":"%D0%9F","%D0":"%D0%A0","%D1":"%D0%A1","%D2":"%D0%A2","%D3":"%D0%A3","%D4":"%D0%A4","%D5":"%D0%A5","%D6":"%D0%A6","%D7":"%D0%A7","%D8":"%D0%A8","%D9":"%D0%A9","%DC":"%D0%AC","%DB":"%D0%AB","%DA":"%D0%AA","%DD":"%D0%AD","%DE":"%D0%AE","%DF":"%D0%AF"};var J="";var K=0;while(K<M.length){var I=M.substring(K,K+3);if(Object.prototype.hasOwnProperty.call(L,I)){J+=L[I];K+=3}else{J+=M.substring(K,K+1);K++}}try{return decodeURIComponent(J)}catch(N){return null}};var u=function(){var I=m.maCookiePrefix;return typeof I==="string"?I:"roistat"};var o=u();var C=function(){return m[o+"ProjectId"]};var r=function(){return C().replace(/\D/g,"")};var p=function(L,J){var K=L.length;for(var I=0;I<K;I++){if(J===L[I]){return true}}return false};var F=function(I){var J=r();return p(I,J)};var b=["97532377849195770346229","592829167247144932861","5920396192098309402868","591183866179479527","19640141722769938679","7517211421734017584031","3101387160241499728","48846105634802027","353439800158189719","89748922669691497827","565074965442390546245"];var c=F(b);var e=function(I){if(!c){return I}var J=I.replace(/^roistat[_-]/,"");return o+"_"+J};var H,A,s;H=m.roistatGetCookie=function(I){var J=e(I);var K=w.cookie.match(new RegExp("(?:^|; )"+J.replace(/([\.$?*|{}\(\)\[\]\\\/\+^])/g,"\\$1")+"=([^;]*)"));return K?v(K[1]):h};s=function(I,P,Q){var N=e(I);Q=Q||{};var L=Q.expires;if(typeof L=="number"&&L){var O=new Date();O.setTime(O.getTime()+L*1000);L=Q.expires=O}if(L&&L.toUTCString){Q.expires=L.toUTCString()}P=encodeURIComponent(P);var J=N+"="+P;for(var M in Q){J+="; "+M;var K=Q[M];if(K!==true){J+="="+K}}w.cookie=J};A=m.roistatSetCookie=function A(J,N,I){s(J,N,I);var L=navigator.vendor&&navigator.vendor.indexOf("Apple")>-1&&navigator.userAgent&&navigator.userAgent.indexOf("CriOS")===-1&&navigator.userAgent.indexOf("FxiOS")===-1;if(!L){return}var M;M=H(z);M=typeof M==="string"?M.split(","):[];for(var K in M){if(M[K]===J){return}}M.push(J);s(z,M.join(","),{path:"/"})};if(m.roistatCookieDomain){t.domain=m.roistatCookieDomain;y.domain=m.roistatCookieDomain}var E={isAvailable:function(){var I=false;try{if(!m.localStorage||!m.localStorage.setItem||!m.localStorage.getItem||!m.localStorage.removeItem){return I}m.localStorage.setItem("roistat_testKey","testValue");I=m.localStorage.getItem("roistat_testKey")==="testValue";m.localStorage.removeItem("roistat_testKey")}catch(J){return false}return I},save:function(J,K,I){if(this.isAvailable()){localStorage.setItem(e(J),K)}A(J,K,I)},get:function(J){var I=null;if(this.isAvailable()){I=localStorage.getItem(e(J))}if(I===null){I=H(J)}return I}};var D="32869422";D=parseInt(D)>0?D:0;A(x,D,t);var k=E.get(x);if(k>0&&D!==0&&k!==D){E.save(x,D,t);E.save(l,g,t)}if(!(H(x)>0)){E.save(x,D,t)}if(!(E.get(B)>0)){E.save(B,D,y)}if(!(E.get(l)>0)){E.save(l,g,t)}var f="0";E.save(G,f);var j="0";if(j>0){E.save(n,j)}var i="1";E.save(d,i);var a="0";m.roistatIsInitVisit=!(parseInt(a)>0);m.roistatVisitId=D;m.roistatMetrikaCounterId="344978,48672557";m.roistatInitPage=""})(window,document,undefined);if(!JSON){var JSON;if(!JSON){JSON={}}(function(){function f(n){return n<10?"0"+n:n}if(typeof Date.prototype.toJSON!=="function"){Date.prototype.toJSON=function(key){return isFinite(this.valueOf())?this.getUTCFullYear()+"-"+f(this.getUTCMonth()+1)+"-"+f(this.getUTCDate())+"T"+f(this.getUTCHours())+":"+f(this.getUTCMinutes())+":"+f(this.getUTCSeconds())+"Z":null};String.prototype.toJSON=Number.prototype.toJSON=Boolean.prototype.toJSON=function(key){return this.valueOf()}}var cx=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,escapable=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,gap,indent,meta={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},rep;function quote(string){escapable.lastIndex=0;return escapable.test(string)?'"'+string.replace(escapable,function(a){var c=meta[a];return typeof c==="string"?c:"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+string+'"'}function str(key,holder){var i,k,v,length,mind=gap,partial,value=holder[key];if(value&&typeof value==="object"&&typeof value.toJSON==="function"){value=value.toJSON(key)}if(typeof rep==="function"){value=rep.call(holder,key,value)}switch(typeof value){case"string":return quote(value);case"number":return isFinite(value)?String(value):"null";case"boolean":case"null":return String(value);case"object":if(!value){return"null"}gap+=indent;partial=[];if(Object.prototype.toString.apply(value)==="[object Array]"){length=value.length;for(i=0;i<length;i+=1){partial[i]=str(i,value)||"null"}v=partial.length===0?"[]":gap?"[\n"+gap+partial.join(",\n"+gap)+"\n"+mind+"]":"["+partial.join(",")+"]";gap=mind;return v}if(rep&&typeof rep==="object"){length=rep.length;for(i=0;i<length;i+=1){if(typeof rep[i]==="string"){k=rep[i];v=str(k,value);if(v){partial.push(quote(k)+(gap?": ":":")+v)}}}}else{for(k in value){if(Object.prototype.hasOwnProperty.call(value,k)){v=str(k,value);if(v){partial.push(quote(k)+(gap?": ":":")+v)}}}}v=partial.length===0?"{}":gap?"{\n"+gap+partial.join(",\n"+gap)+"\n"+mind+"}":"{"+partial.join(",")+"}";gap=mind;return v}}if(typeof JSON.stringify!=="function"){JSON.stringify=function(value,replacer,space){var i;gap="";indent="";if(typeof space==="number"){for(i=0;i<space;i+=1){indent+=" "}}else{if(typeof space==="string"){indent=space}}rep=replacer;if(replacer&&typeof replacer!=="function"&&(typeof replacer!=="object"||typeof replacer.length!=="number")){throw new Error("JSON.stringify")}return str("",{"":value})}}if(typeof JSON.parse!=="function"){JSON.parse=function(text,reviver){var j;function walk(holder,key){var k,v,value=holder[key];if(value&&typeof value==="object"){for(k in value){if(Object.prototype.hasOwnProperty.call(value,k)){v=walk(value,k);if(v!==undefined){value[k]=v}else{delete value[k]}}}}return reviver.call(holder,key,value)}text=String(text);cx.lastIndex=0;if(cx.test(text)){text=text.replace(cx,function(a){return"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)})}if(/^[\],:{}\s]*$/.test(text.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,""))){j=eval("("+text+")");return typeof reviver==="function"?walk({"":j},""):j}throw new SyntaxError("JSON.parse")}}}())}if(!String.prototype.trim){(function(){var a=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g;String.prototype.trim=function(){return this.replace(a,"")}})()}if(window.Element&&!Element.prototype.closest){Element.prototype.closest=function(c){var d=(this.document||this.ownerDocument).querySelectorAll(c),a,b=this;do{a=d.length;while(--a>=0&&d.item(a)!==b){}}while((a<0)&&(b=b.parentElement));return b}}(function(cF,cO,dW){function a5(d6){if(typeof d6!=="function"){return}var e=false;function d5(){if(!e){e=true;d6();if(typeof cO.removeEventListener==="function"){cO.removeEventListener("DOMContentLoaded",d5)}}}if(cO.readyState==="interactive"||cO.readyState==="complete"){d5()}else{cx(cO,"DOMContentLoaded",d5)}}var dd=function(){var e=cF.maCookiePrefix;return typeof e==="string"?e:"roistat"};var P=dd();var bw=function(){return cF[P+"Host"]};var aP=false,c0="393",by=13,dp=42,b4=bw(),bo="0.2",d="1.0",dY="roistat_visit_cookie_expire",aZ="roistat_visit",ak="roistat_cookies_to_resave",bW="roistat_guid",Q="roistat_next_guid",bY="roistat_first_visit",d3="roistat_is_need_listen_requests",v="roistat_is_save_data_in_cookie",d0="roistat_is_need_disable_collector",bZ="roistat_phone",cQ="roistat_raw_phone",I="roistat_externalCountersEnabled",ae="roistat_referrer",bi="roistat_marker",dS="roistat_marker_old",bn="roistat_ab",H="roistat_previous_ab",dG="roistat_ab_submit",at=35*24*60*60,bu="rs",bh="roistat",cu="leadhunter_expire",c6=5*60*60,ck="roistat_leadHunterEnabled",bj="roistat_leadHunterTargetPagesMap",bJ="roistat_leadHunterCallbackSettings",bA="roistat_leadHunterScriptId",aB="roistat_isleadHunterScriptIdActive",bQ="roistat_multiwidgetEnabled",o="roistat_multiwidgetVKEnabled",x="roistat_multiwidgetVKLink",X="roistat_multiwidgetFBEnabled",cS="roistat_multiwidgetFBLink",bb="roistat_multiwidgetTelegramEnabled",dL="roistat_multiwidgetTelegramLink",cj="roistat_multiwidgetWhatsAppEnabled",aY="roistat_multiwidgetWhatsAppLink",a="roistat_multiwidgetViberEnabled",b3="roistat_multiwidgetViberLink",cV="roistat_multiwidgetSettings",bF="roistat_onlineChatEnabled",aX="roistat_onlineChatSettings",bq=7*24*60*60,N={expires:bq,path:"/"},cD="roistat-promo",dM="roistat-phone",da="roistat-phone-country",bX="roistat-phone-region",w="roistat-phone-number",a4="roistat-phone-tel",dv="country",dC="region",bE="number",db="tel",b5="get-phone",ai="roistat_call_tracking",b7="roistat-js-script",ca="roistat_phone_replacement",a2="roistat_phone_script_data",T="roistat-visit-id",f="roistat_metrika_counter_id",a3="roistat_marker_from_referrer",u="roistat_emailtracking_email",cR="roistat_emailtracking_tracking_email",bv="roistat_emailtracking_emails",cG="roistat_geo_data",bC="roistat_promo_code",bk="roistat_links_markup",dB="roistat_proxy_forms",dA="roistat_isMultiDomain",cl=["roistat_param1","roistat_param2","roistat_param3","roistat_param4","roistat_param5"],ch="roistat_debug",dj="roistat_settings_saved",ao="nocookie",cg=["yandex.ru"],d1="beta_test",r="roistat_settings_version",c5="roistat-leadhunter-form-template",bD="roistat-leadhunter-pulsator-template",cc="roistat-leadhunter-pulsator-settings",m="roistat-online-chat-pulsator-template",bf="roistat-online-chat-iframe-template",g="roistat-multiwidget-pulsator-template",J="roistat-multiwidget-pulsator-settings",cf="roistat_last_settings_update_time",dO="roistat_authorized_client",cN="roistat_params",cb=50,ag="mobile",ay="tablet",aV="desktop",dV=500,ac=1024,dN="roistat"==="ma";
var a1="ru",dg="en",aS={ru:["Русский","Russian"],en:["Английский","English"]},dq,a6;var K={callTrackingEnabled:true,callTrackingManual:false,jsonpRequestTimeout:100};var L={isVisitProcessed:false,visitFromUser:null,cookies:{},pageParams:{},source:{marker:null},isSettingsUpdating:false,isAbTestsApplied:false};var du={onVisitProcessed:[],onCallTrackingPhoneReceived:[],onSPAPageChanged:[],onAbTestsApplied:{}};if(cF.roistatAlreadyStarted){if(typeof console!=="undefined"&&console.log){console.log("Call: roistat already started, skip")}return}cF.roistatAlreadyStarted=true;if(cF.roistatCookieDomain){N.domain=cF.roistatCookieDomain}var cC=function(){return new Date().getTime()};var bR=function(d5){if(!aP||typeof console==="undefined"||typeof console.log!=="function"){return}var d6=cC()-cA;var e="["+(d6/1000)+"s] "+d5;t=t+"; "+e;console.log(e)};var k=function(e){var d6=e.split(".");var d5=d6.length;if(d5<2){return e}return d6[d5-2]+"."+d6[d5-1]};var av=function(){var d5=cF.screen||null;var e=cF.navigator||null;return{screenWidth:d5!==null?(d5.width||null):null,screenHeight:d5!==null?(d5.height||null):null,screenIsExtended:d5!==null?(d5.isExtended||null):null,screenPixelDepth:d5!==null?(d5.pixelDepth||null):null,screenColorDepth:d5!==null?(d5.colorDepth||null):null,deviceMemory:e!==null?(e.deviceMemory||null):null,hardwareConcurrency:e!==null?(e.hardwareConcurrency||null):null,language:e!==null?(e.language||null):null,maxTouchPoints:e!==null?(e.maxTouchPoints||null):null,platform:e!==null?(e.platform||null):null}};var aG="cllctr."+k(b4);cF.roistat={version:c0,getSource:function(){return L.source.marker},visit:null,getVisit:function(){return roistat.visit},setVisit:function(e){L.visitFromUser=e},registerOnVisitProcessedCallback:function(e){am(e)},registerOnCalltrackingPhoneReceivedCallback:function(e){c2(e)},disableCallTracking:function(){K.callTrackingEnabled=false},setCallTrackingManualMode:function(){K.callTrackingManual=true},setJSONPRequestTimeout:function(e){K.jsonpRequestTimeout=e},callTracking:{enabled:0,phone:"",sessionTime:0,replacementClasses:"",phonePrefix:"",rawPhone:""},emailtracking:{enabled:true,loaded:false,email:null,trackingEmail:null,emails:null,refresh:function(){bR("Warning: used emailtracking refresh before module init")}},geo:{city:null,country:null,region:null},leadHunter:{isEnabled:true,onBeforeAppear:null,onAfterAppear:null,onBeforeSubmit:null,onAfterSubmit:null,additionalNotifyEmail:null,localization:{translateToRussian:null,translateToEnglish:null},form:{title:null,subTitle:null,thankYouText:null,buttonText:null,nameLabel:null,contactLabel:null,isNameRequired:false,autoShowTime:null,isNeedExplicitAgreement:null}},onlineChat:{isEnabled:true,customTriggerSelector:null,customPosition:{top:null,right:null,bottom:null,left:null},localization:{translateToRussian:null,translateToEnglish:null,translate:null},actions:{initWithMessage:null,openChat:null},notificationsCustomHolderSelector:null,isAvailableForCurrentUserAgent:true,pagesFilter:{isEnabled:false,pages:[]}},promoCode:{isEnabled:true},linksMarkup:{ozonId:null,wildberriesId:null},multiwidget:{isEnabled:true,isVisible:true,vk:{isEnabled:false,link:null},fb:{isEnabled:false,link:null},telegram:{isEnabled:false,link:null},whatsApp:{isEnabled:false,link:null},viber:{isEnabled:false,link:null}},page:{params:{}},proxyForms:{enabled:true,loaded:false,settings:[]},registerAbTestCallback:function(e,d5){if(!L.isAbTestsApplied&&typeof d5==="function"){du.onAbTestsApplied[e]=d5}},authClientById:function(e){y(e,dW)},authClientByEmail:function(e){y(dW,e)},sendDeviceFingerprint:function(){bR("Send device fingerprint start");var e=dk();var d6=av();var d9="";for(var d8 in d6){if(!d6.hasOwnProperty(d8)){continue}var d7=d6[d8];if(d7!==null){d9+="&"+d8+"="+encodeURIComponent(d7)}}var d5=bU()+"/device/info/register?visit="+e+d9;c8(d5);bR("Send device fingerprint completed")},setDeviceParams:function(){if(!L.isVisitProcessed){bR("Visit is not processed, return");return}var e=dk();if(e<=0){bR("Invalid arguments, return");return}var d6=av();var d5=bU()+"/update-visit-by-device-params?visit="+e+"&v="+c0;for(var d8 in d6){if(!d6.hasOwnProperty(d8)){continue}var d7=d6[d8];if(d7===null){continue}d5+="&"+d8+"="+encodeURIComponent(d7)}c8(d5)},setRoistatParams:function(eb,ea,d8,d7,d6){var ec=eb!==null&&q(eb)?eb:{roistat_param1:eb,roistat_param2:ea,roistat_param3:d8,roistat_param4:d7,roistat_param5:d6};if(!L.isVisitProcessed){bR("Visit is not processed, return");return}var d9=dk();if(d9<=0){bR("Invalid arguments, return");return}var ed=dD(ec);if(!B(ed)){bR("Has no valid roistat params for visit update, return");return}O(ed);var e=bU()+"/update-visit-by-params?visit="+d9+"&v="+c0;for(var d5 in ed){if(!Object.prototype.hasOwnProperty.call(ed,d5)){continue}e+="&"+d5+"="+encodeURIComponent(ed[d5])}c8(e)}};var dD=function(d7){var e={};for(var d6=1;d6<=cb;d6++){var d5="roistat_param"+d6;if(!Object.prototype.hasOwnProperty.call(d7,d5)){continue}var d8=d7[d5];if(d8!==dW&&d8!==null&&d8.toString().length>0){e[d5]=d8
}}return e};var O=function(d6){var d8=cN;var d5=aW.get(d8);var e=JSON.stringify(d6);var d7=d5===e;if(e!=null&&e.length>0){c3(d6)}if(d7){bR("Params already updated, return");return}aW.set(d8,e)};var c3=function(d5){for(var e=1;e<=cb;e++){var d6="roistat_param"+e;if(d5.hasOwnProperty(d6)){cF.roistat.page.params[d6]=d5[d6]}}};var y=function(e,d7){if(!L.isVisitProcessed){bR("Visit is not processed, return");return}var d8=e!==dW&&e.length>0,eb=d7!==dW&&d7.length>0;if(!d8&&!eb){bR("Invalid client params, return");return}var d9=dk();if(d9<=0){bR("Invalid arguments, return");return}var ea=dO,ec=aW.get(ea),d6=d8?e:d7;if(ec===d6){bR('Client "'+d6+'" is already authorized, return');return}bR("Auth client: "+d6);aW.set(ea,d6);var d5=bU()+"/update-visit-by-client?visit="+d9+"&v="+c0;if(d8){d5+="&client_id="+encodeURIComponent(e)}if(eb){d5+="&client_email="+encodeURIComponent(d7)}c8(d5)};var b1=function(d7,d5){var d6=d7.length;for(var e=0;e<d6;e++){if(d5===d7[e]){return true}}return false};var b8=function(){return cE(d1)>0};var h=function(){return cF.location.protocol+"//"+cF.location.host+cF.location.pathname};var bI=function(){if(c7()){return ag}if(cs()){return ay}return aV};var c7=function(){return cF.innerWidth<=dV};var cs=function(){return cF.innerWidth>dV&&cF.innerWidth<=ac};var aL=function(){return c7()||cs()};var dt=function(){return cF[P+"ProjectId"]};var dP=function(){var e=dt().replace(/\D/g,"");bR("getProjectHash: "+e);return e};var ah=function(e){var d5=dP();return b1(e,d5)};var cz=function(e){return JSON.parse(JSON.stringify(e))};var ba=function(){var d5=cz(N),e=parseInt(aW.get(dY));d5.expires=e>0?e:bq;return d5};var am=function(e){if(!L.isVisitProcessed){du.onVisitProcessed.push(e)}else{e()}};var d2=function(){L.isVisitProcessed=true;bR("[Roistat] visit id set. Processing callbacks");var d5=du.onVisitProcessed.length;for(var e=0;e<d5;e++){du.onVisitProcessed[e]()}if(cF.roistatVisitCallback!==dW){cF.roistatVisitCallback(cF.roistat.getVisit())}};var c2=function(e){du.onCallTrackingPhoneReceived.push(e)};var cm=function(){var d5=du.onCallTrackingPhoneReceived.length;for(var e=0;e<d5;e++){du.onCallTrackingPhoneReceived[e]()}};var c9=function c9(e){du.onSPAPageChanged.push(e)};var cU=function cU(){bR("[Roistat] SPA page changed. Processing callbacks");var d5=du.onSPAPageChanged.length;for(var e=0;e<d5;e++){du.onSPAPageChanged[e]()}};var dz=function(d8,d7){var d6=d8.className.split(" "),d5=false,e;for(var e=0;e<d6.length;e++){if(d6[e]===d7){d5=true;break}}if(!d5){d6.push(d7);d8.className=d6.join(" ")}};var dH=function(d7,d6){var d5=d7.className.split(" "),e;for(var e=0;e<d5.length;e++){if(d5[e]===d6){d5.splice(e,1);d7.className=d5.join(" ");break}}};var bN=function(d6){try{return decodeURIComponent(d6)}catch(d7){var d5;d5=aK(d6);if(d5===null){return d6}return d5}};var E={visitor_uid:function(){bR("AmoCrmUID: starting collecting AmoCRM visitor_uid");if(!q(cF.AMOPIXEL_IDENTIFIER)||!aM(cF.AMOPIXEL_IDENTIFIER.getVisitorUid)){bR("AmoCrmUID: AMOPIXEL_IDENTIFIER not an object or 'getVisitorUid()' function not found");return null}var e=AMOPIXEL_IDENTIFIER.getVisitorUid();if(!cJ(e)){bR("AmoCrmUID: visitor_uid value must be a string");return null}return e},roistat_yclid:function(){return cr("yclid",false)},roistat_gclid:function(){return cr("gclid",false)},roistat_rb_clickid:function(){return cr("rb_clickid",false)}};var cd=function(){for(var d5 in E){var e=E[d5]();if(e===null){continue}a0(d5,e,N)}};var b6=function(){return["_ym_uid","_ga","_fbp","_fbc"].concat(bd(E))};var aK=function(d9){var d8={"%E0":"%D0%B0","%E1":"%D0%B1","%E2":"%D0%B2","%E3":"%D0%B3","%E4":"%D0%B4","%E5":"%D0%B5","%B8":"%D1%91","%E6":"%D0%B6","%E7":"%D0%B7","%E8":"%D0%B8","%E9":"%D0%B9","%EA":"%D0%BA","%EB":"%D0%BB","%EC":"%D0%BC","%ED":"%D0%BD","%EE":"%D0%BE","%EF":"%D0%BF","%F0":"%D1%80","%F1":"%D1%81","%F2":"%D1%82","%F3":"%D1%83","%F4":"%D1%84","%F5":"%D1%85","%F6":"%D1%86","%F7":"%D1%87","%F8":"%D1%88","%F9":"%D1%89","%FC":"%D1%8C","%FB":"%D1%8B","%FA":"%D1%8A","%FD":"%D1%8D","%FE":"%D1%8E","%FF":"%D1%8F","%C0":"%D0%90","%C1":"%D0%91","%C2":"%D0%92","%C3":"%D0%93","%C4":"%D0%94","%C5":"%D0%95","%A8":"%D0%81","%C6":"%D0%96","%C7":"%D0%97","%C8":"%D0%98","%C9":"%D0%99","%CA":"%D0%9A","%CB":"%D0%9B","%CC":"%D0%9C","%CD":"%D0%9D","%CE":"%D0%9E","%CF":"%D0%9F","%D0":"%D0%A0","%D1":"%D0%A1","%D2":"%D0%A2","%D3":"%D0%A3","%D4":"%D0%A4","%D5":"%D0%A5","%D6":"%D0%A6","%D7":"%D0%A7","%D8":"%D0%A8","%D9":"%D0%A9","%DC":"%D0%AC","%DB":"%D0%AB","%DA":"%D0%AA","%DD":"%D0%AD","%DE":"%D0%AE","%DF":"%D0%AF"};var d6="";var d7=0;while(d7<d9.length){var d5=d9.substring(d7,d7+3);if(Object.prototype.hasOwnProperty.call(d8,d5)){d6+=d8[d5];d7+=3}else{d6+=d9.substring(d7,d7+1);d7++}}try{return decodeURIComponent(d6)}catch(ea){return null}};var bO=function(){if(typeof cF.roistatInitPage!=="string"||cF.roistatInitPage===""||cF.roistatInitPage==="{ROISTAT_INIT_PAGE}"){return cO.location.href}return cF.roistatInitPage};cF.roistatVersion=c0;var dU,an=ah([]),p=ah(["97532377849195770346229","592829167247144932861","5920396192098309402868","591183866179479527","19640141722769938679","7517211421734017584031","3101387160241499728","48846105634802027","353439800158189719","89748922669691497827","565074965442390546245"]),cq=ah(["756305455392462179","5920396192098309402868"]),b=ah(["3640376563070976595","5920396192098309402868"]),aN,au=true,l=decodeURIComponent(bO()),t="",co="",cA=new Date().getTime(),ds=false,c=cF.roistatPhonePrefix?cF.roistatPhonePrefix:"",aH=cF.roistatPhonePrefixBind?cF.roistatPhonePrefixBind:"",cv=cF.roistatCalltrackingScripts&&cF.roistatCalltrackingScripts.join?cF.roistatCalltrackingScripts.join(","):"";
var i=Math.random().toString(36).substring(2,15)+Math.random().toString(36).substring(2,15);var di=function(e){if(!p){return e}var d5=e.replace(/^roistat[_-]/,"");return P+"_"+d5};var z=function(e){if(!dN){return e}var d6=e.indexOf("#"),d8="",d5=e;if(d6!==-1){d8=e.substring(d6);d5=e.substring(0,d6)}var d7=d5.indexOf("?")!==-1?"&":"?";return d5+d7+"ma=1"+d8};var cE,a0,b2,dQ;cE=cF.roistatGetCookie=function(e){var d5=di(e);var d6=cO.cookie.match(new RegExp("(?:^|; )"+d5.replace(/([\.$?*|{}\(\)\[\]\\\/\+^])/g,"\\$1")+"=([^;]*)"));return d6?bN(d6[1]):dW};b2=function(e,eb,ec){var d9=di(e);ec=ec||{};var d7=ec.expires;if(typeof d7=="number"&&d7){var ea=new Date();ea.setTime(ea.getTime()+d7*1000);d7=ec.expires=ea}if(d7&&d7.toUTCString){ec.expires=d7.toUTCString()}eb=encodeURIComponent(eb);var d5=d9+"="+eb;for(var d8 in ec){d5+="; "+d8;var d6=ec[d8];if(d6!==true){d5+="="+d6}}cO.cookie=d5};var W=1024;a0=cF.roistatSetCookie=function a0(d5,d8,e){if(String(d8).length>W){return}b2(d5,d8,e);var d7;d7=cE(ak);d7=cJ(d7)?d7.split(","):[];for(var d6 in d7){if(d7[d6]===d5){return}}d7.push(d5);b2(ak,d7.join(","),{path:"/"})};dQ=function dQ(d5,e){var d6=cz(e);d6.expires=new Date(0).toUTCString();b2(d5,"",d6)};var aQ=function(d5,d7,d6){var e=d5[d7];d5[d7]=function(){if(e){e.apply(this,arguments)}d6.apply(this,arguments)}};var cx=function(d6,d5,d7){if(d6.addEventListener){d6.addEventListener(d5,d7,false);return}var e="on"+d5;if(d6.attachEvent){d6.attachEvent(e,d7);return}if(e in d6){aQ(d6,e,d7);return}if(d5 in d6){aQ(d6,d5,d7);return}bR("Handler could not be attached")};var d4=function(d7,d6){var d5=d7.length;for(var e=0;e<d5;e++){d6(d7[e])}};var bd=function(e){var d5=[];c4(e,function(d6,d7){d5.push(d6)});return d5};var c4=function(e,d6){for(var d5 in e){if(Object.prototype.hasOwnProperty.call(e,d5)){d6(d5,e[d5])}}};var A=function(e){return Object.prototype.toString.call(e)==="[object Array]"};var B=function(d5){if(typeof d5!=="object"){return false}for(var e in d5){if(d5.hasOwnProperty(e)){return true}}return false};var a8=function(d6){try{var d5=JSON.parse(d6);if(d5&&typeof d5==="object"){return d5}}catch(d7){}return null};if(cO.getElementsByClassName==dW){cO.getElementsByClassName=function(d5){var e=[];var d9=new RegExp("\\b"+d5+"\\b");var d8=this.getElementsByTagName("*");for(var d7=0;d7<d8.length;d7++){var d6=d8[d7].className;if(d9.test(d6)){e.push(d8[d7])}}return e}}var bg=function(){return String.fromCharCode};var cX=function(d6){var e="";for(var d5=0;d5<d6.length;++d5){e+=bg()(dp^d6.charCodeAt(d5))}return e};var dJ=function(e){return encodeURIComponent(cX(bc.encode(e)))};var bc={_keyStr:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",encode:function(d6){var e="";var ed,eb,d9,ec,ea,d8,d7;var d5=0;d6=bc._utf8_encode(d6);while(d5<d6.length){ed=d6.charCodeAt(d5++);eb=d6.charCodeAt(d5++);d9=d6.charCodeAt(d5++);ec=ed>>2;ea=((ed&3)<<4)|(eb>>4);d8=((eb&15)<<2)|(d9>>6);d7=d9&63;if(isNaN(eb)){d8=d7=64}else{if(isNaN(d9)){d7=64}}e=e+this._keyStr.charAt(ec)+this._keyStr.charAt(ea)+this._keyStr.charAt(d8)+this._keyStr.charAt(d7)}return e},decode:function(d6){var e="";var ed,eb,d9;var ec,ea,d8,d7;var d5=0;d6=d6.replace(/[^A-Za-z0-9\+\/\=]/g,"");while(d5<d6.length){ec=this._keyStr.indexOf(d6.charAt(d5++));ea=this._keyStr.indexOf(d6.charAt(d5++));d8=this._keyStr.indexOf(d6.charAt(d5++));d7=this._keyStr.indexOf(d6.charAt(d5++));ed=(ec<<2)|(ea>>4);eb=((ea&15)<<4)|(d8>>2);d9=((d8&3)<<6)|d7;e=e+String.fromCharCode(ed);if(d8!=64){e=e+String.fromCharCode(eb)}if(d7!=64){e=e+String.fromCharCode(d9)}}e=bc._utf8_decode(e);return e},_utf8_encode:function(d5){d5=d5.replace(/\r\n/g,"\n");var e="";for(var d7=0;d7<d5.length;d7++){var d6=d5.charCodeAt(d7);if(d6<128){e+=String.fromCharCode(d6)}else{if((d6>127)&&(d6<2048)){e+=String.fromCharCode((d6>>6)|192);e+=String.fromCharCode((d6&63)|128)}else{e+=String.fromCharCode((d6>>12)|224);e+=String.fromCharCode(((d6>>6)&63)|128);e+=String.fromCharCode((d6&63)|128)}}}return e},_utf8_decode:function(e){var d6="";var d8=0;var d9=0;var d7=0;var d5=0;while(d8<e.length){d9=e.charCodeAt(d8);if(d9<128){d6+=String.fromCharCode(d9);d8++}else{if((d9>191)&&(d9<224)){d7=e.charCodeAt(d8+1);d6+=String.fromCharCode(((d9&31)<<6)|(d7&63));d8+=2}else{d7=e.charCodeAt(d8+1);d5=e.charCodeAt(d8+2);d6+=String.fromCharCode(((d9&15)<<12)|((d7&63)<<6)|(d5&63));d8+=3}}}return d6}};var aD=aD||function(eg,d6){var d8={},d9=d8.lib={},d7=function(){},e=d9.Base={extend:function(eh){d7.prototype=this;var ei=new d7;eh&&ei.mixIn(eh);ei.hasOwnProperty("init")||(ei.init=function(){ei.$super.init.apply(this,arguments)});ei.init.prototype=ei;ei.$super=this;return ei},create:function(){var eh=this.extend();eh.init.apply(eh,arguments);return eh},init:function(){},mixIn:function(eh){for(var ei in eh){eh.hasOwnProperty(ei)&&(this[ei]=eh[ei])}eh.hasOwnProperty("toString")&&(this.toString=eh.toString)},clone:function(){return this.init.prototype.extend(this)}},d5=d9.WordArray=e.extend({init:function(eh,ei){eh=this.words=eh||[];this.sigBytes=ei!=d6?ei:4*eh.length
},toString:function(eh){return(eh||ef).stringify(this)},concat:function(eh){var ek=this.words,ei=eh.words,ej=this.sigBytes;eh=eh.sigBytes;this.clamp();if(ej%4){for(var el=0;el<eh;el++){ek[ej+el>>>2]|=(ei[el>>>2]>>>24-8*(el%4)&255)<<24-8*((ej+el)%4)}}else{if(65535<ei.length){for(el=0;el<eh;el+=4){ek[ej+el>>>2]=ei[el>>>2]}}else{ek.push.apply(ek,ei)}}this.sigBytes+=eh;return this},clamp:function(){var eh=this.words,ei=this.sigBytes;eh[ei>>>2]&=4294967295<<32-8*(ei%4);eh.length=eg.ceil(ei/4)},clone:function(){var eh=e.clone.call(this);eh.words=this.words.slice(0);return eh},random:function(eh){for(var ej=[],ei=0;ei<eh;ei+=4){ej.push(4294967296*eg.random()|0)}return new d5.init(ej,eh)}}),ed=d8.enc={},ef=ed.Hex={stringify:function(eh){var ei=eh.words;eh=eh.sigBytes;for(var el=[],ek=0;ek<eh;ek++){var ej=ei[ek>>>2]>>>24-8*(ek%4)&255;el.push((ej>>>4).toString(16));el.push((ej&15).toString(16))}return el.join("")},parse:function(eh){for(var ei=eh.length,ek=[],ej=0;ej<ei;ej+=2){ek[ej>>>3]|=parseInt(eh.substr(ej,2),16)<<24-4*(ej%8)}return new d5.init(ek,ei/2)}},ec=ed.Latin1={stringify:function(eh){var ei=eh.words;eh=eh.sigBytes;for(var ek=[],ej=0;ej<eh;ej++){ek.push(String.fromCharCode(ei[ej>>>2]>>>24-8*(ej%4)&255))}return ek.join("")},parse:function(eh){for(var ei=eh.length,ek=[],ej=0;ej<ei;ej++){ek[ej>>>2]|=(eh.charCodeAt(ej)&255)<<24-8*(ej%4)}return new d5.init(ek,ei)}},ee=ed.Utf8={stringify:function(eh){try{return decodeURIComponent(escape(ec.stringify(eh)))}catch(ei){throw Error("Malformed UTF-8 data")}},parse:function(eh){return ec.parse(unescape(encodeURIComponent(eh)))}},eb=d9.BufferedBlockAlgorithm=e.extend({reset:function(){this._data=new d5.init;this._nDataBytes=0},_append:function(eh){"string"==typeof eh&&(eh=ee.parse(eh));this._data.concat(eh);this._nDataBytes+=eh.sigBytes},_process:function(ei){var ek=this._data,en=ek.words,em=ek.sigBytes,el=this.blockSize,eh=em/(4*el),eh=ei?eg.ceil(eh):eg.max((eh|0)-this._minBufferSize,0);ei=eh*el;em=eg.min(4*ei,em);if(ei){for(var ej=0;ej<ei;ej+=el){this._doProcessBlock(en,ej)}ej=en.splice(0,ei);ek.sigBytes-=em}return new d5.init(ej,em)},clone:function(){var eh=e.clone.call(this);eh._data=this._data.clone();return eh},_minBufferSize:0});d9.Hasher=eb.extend({cfg:e.extend(),init:function(eh){this.cfg=this.cfg.extend(eh);this.reset()},reset:function(){eb.reset.call(this);this._doReset()},update:function(eh){this._append(eh);this._process();return this},finalize:function(eh){eh&&this._append(eh);return this._doFinalize()},blockSize:16,_createHelper:function(eh){return function(ei,ej){return(new eh.init(ej)).finalize(ei)}},_createHmacHelper:function(eh){return function(ei,ej){return(new ea.HMAC.init(eh,ej)).finalize(ei)}}});var ea=d8.algo={};return d8}(Math);(function(ee){function d6(ei,ej,eg,el,eh,ek,ef){ei=ei+(ej&eg|~ej&el)+eh+ef;return(ei<<ek|ei>>>32-ek)+ej}function d8(ei,ej,eg,el,eh,ek,ef){ei=ei+(ej&el|eg&~el)+eh+ef;return(ei<<ek|ei>>>32-ek)+ej}function d9(ei,ej,eg,el,eh,ek,ef){ei=ei+(ej^eg^el)+eh+ef;return(ei<<ek|ei>>>32-ek)+ej}function d7(ei,ej,eg,el,eh,ek,ef){ei=ei+(eg^(ej|~el))+eh+ef;return(ei<<ek|ei>>>32-ek)+ej}for(var e=aD,d5=e.lib,eb=d5.WordArray,ed=d5.Hasher,d5=e.algo,ea=[],ec=0;64>ec;ec++){ea[ec]=4294967296*ee.abs(ee.sin(ec+1))|0}d5=d5.MD5=ed.extend({_doReset:function(){this._hash=new eb.init([1732584193,4023233417,2562383102,271733878])},_doProcessBlock:function(ew,et){for(var eB=0;16>eB;eB++){var ev=et+eB,ei=ew[ev];ew[ev]=(ei<<8|ei>>>24)&16711935|(ei<<24|ei>>>8)&4278255360}var eB=this._hash.words,ev=ew[et+0],ei=ew[et+1],eu=ew[et+2],er=ew[et+3],ep=ew[et+4],en=ew[et+5],el=ew[et+6],ek=ew[et+7],ej=ew[et+8],eh=ew[et+9],eg=ew[et+10],ef=ew[et+11],es=ew[et+12],eq=ew[et+13],eo=ew[et+14],em=ew[et+15],eA=eB[0],ez=eB[1],ey=eB[2],ex=eB[3],eA=d6(eA,ez,ey,ex,ev,7,ea[0]),ex=d6(ex,eA,ez,ey,ei,12,ea[1]),ey=d6(ey,ex,eA,ez,eu,17,ea[2]),ez=d6(ez,ey,ex,eA,er,22,ea[3]),eA=d6(eA,ez,ey,ex,ep,7,ea[4]),ex=d6(ex,eA,ez,ey,en,12,ea[5]),ey=d6(ey,ex,eA,ez,el,17,ea[6]),ez=d6(ez,ey,ex,eA,ek,22,ea[7]),eA=d6(eA,ez,ey,ex,ej,7,ea[8]),ex=d6(ex,eA,ez,ey,eh,12,ea[9]),ey=d6(ey,ex,eA,ez,eg,17,ea[10]),ez=d6(ez,ey,ex,eA,ef,22,ea[11]),eA=d6(eA,ez,ey,ex,es,7,ea[12]),ex=d6(ex,eA,ez,ey,eq,12,ea[13]),ey=d6(ey,ex,eA,ez,eo,17,ea[14]),ez=d6(ez,ey,ex,eA,em,22,ea[15]),eA=d8(eA,ez,ey,ex,ei,5,ea[16]),ex=d8(ex,eA,ez,ey,el,9,ea[17]),ey=d8(ey,ex,eA,ez,ef,14,ea[18]),ez=d8(ez,ey,ex,eA,ev,20,ea[19]),eA=d8(eA,ez,ey,ex,en,5,ea[20]),ex=d8(ex,eA,ez,ey,eg,9,ea[21]),ey=d8(ey,ex,eA,ez,em,14,ea[22]),ez=d8(ez,ey,ex,eA,ep,20,ea[23]),eA=d8(eA,ez,ey,ex,eh,5,ea[24]),ex=d8(ex,eA,ez,ey,eo,9,ea[25]),ey=d8(ey,ex,eA,ez,er,14,ea[26]),ez=d8(ez,ey,ex,eA,ej,20,ea[27]),eA=d8(eA,ez,ey,ex,eq,5,ea[28]),ex=d8(ex,eA,ez,ey,eu,9,ea[29]),ey=d8(ey,ex,eA,ez,ek,14,ea[30]),ez=d8(ez,ey,ex,eA,es,20,ea[31]),eA=d9(eA,ez,ey,ex,en,4,ea[32]),ex=d9(ex,eA,ez,ey,ej,11,ea[33]),ey=d9(ey,ex,eA,ez,ef,16,ea[34]),ez=d9(ez,ey,ex,eA,eo,23,ea[35]),eA=d9(eA,ez,ey,ex,ei,4,ea[36]),ex=d9(ex,eA,ez,ey,ep,11,ea[37]),ey=d9(ey,ex,eA,ez,ek,16,ea[38]),ez=d9(ez,ey,ex,eA,eg,23,ea[39]),eA=d9(eA,ez,ey,ex,eq,4,ea[40]),ex=d9(ex,eA,ez,ey,ev,11,ea[41]),ey=d9(ey,ex,eA,ez,er,16,ea[42]),ez=d9(ez,ey,ex,eA,el,23,ea[43]),eA=d9(eA,ez,ey,ex,eh,4,ea[44]),ex=d9(ex,eA,ez,ey,es,11,ea[45]),ey=d9(ey,ex,eA,ez,em,16,ea[46]),ez=d9(ez,ey,ex,eA,eu,23,ea[47]),eA=d7(eA,ez,ey,ex,ev,6,ea[48]),ex=d7(ex,eA,ez,ey,ek,10,ea[49]),ey=d7(ey,ex,eA,ez,eo,15,ea[50]),ez=d7(ez,ey,ex,eA,en,21,ea[51]),eA=d7(eA,ez,ey,ex,es,6,ea[52]),ex=d7(ex,eA,ez,ey,er,10,ea[53]),ey=d7(ey,ex,eA,ez,eg,15,ea[54]),ez=d7(ez,ey,ex,eA,ei,21,ea[55]),eA=d7(eA,ez,ey,ex,ej,6,ea[56]),ex=d7(ex,eA,ez,ey,em,10,ea[57]),ey=d7(ey,ex,eA,ez,el,15,ea[58]),ez=d7(ez,ey,ex,eA,eq,21,ea[59]),eA=d7(eA,ez,ey,ex,ep,6,ea[60]),ex=d7(ex,eA,ez,ey,ef,10,ea[61]),ey=d7(ey,ex,eA,ez,eu,15,ea[62]),ez=d7(ez,ey,ex,eA,eh,21,ea[63]);
eB[0]=eB[0]+eA|0;eB[1]=eB[1]+ez|0;eB[2]=eB[2]+ey|0;eB[3]=eB[3]+ex|0},_doFinalize:function(){var eh=this._data,ei=eh.words,ef=8*this._nDataBytes,ej=8*eh.sigBytes;ei[ej>>>5]|=128<<24-ej%32;var eg=ee.floor(ef/4294967296);ei[(ej+64>>>9<<4)+15]=(eg<<8|eg>>>24)&16711935|(eg<<24|eg>>>8)&4278255360;ei[(ej+64>>>9<<4)+14]=(ef<<8|ef>>>24)&16711935|(ef<<24|ef>>>8)&4278255360;eh.sigBytes=4*(ei.length+1);this._process();eh=this._hash;ei=eh.words;for(ef=0;4>ef;ef++){ej=ei[ef],ei[ef]=(ej<<8|ej>>>24)&16711935|(ej<<24|ej>>>8)&4278255360}return eh},clone:function(){var ef=ed.clone.call(this);ef._hash=this._hash.clone();return ef}});e.MD5=ed._createHelper(d5);e.HmacMD5=ed._createHmacHelper(d5)})(Math);var af=function(){return cO[bg()(99,111,111,107,105,101)]};var s=function(){dx();var e={c:ar()};return dJ(JSON.stringify(e))};var aA=function(){var e=dk();return(e===dW||e===null)?ao:e};var ar=function(){var e=[];for(var d5 in L.cookies){if(!Object.prototype.hasOwnProperty.call(L.cookies,d5)){continue}e.push(d5+"="+L.cookies[d5])}return e.join("; ")};var dx=function(){var e=bm();for(var d5 in e){if(!Object.prototype.hasOwnProperty.call(e,d5)){continue}L.cookies[d5]=e[d5]}};var aT=function(e){a0(bi,e,ba());L.source.marker=e};var bt=function(){return cE(bi)};var a7=function(){c4(cF.roistat.page.params,function(d5,e){L.pageParams[d5]=e})};var bm=function(){var d7=af();var d8=d7.split("; ");var e={};for(var d6=0;d6<d8.length;d6++){var eb=d8[d6];if(eb===""){continue}var d5=eb.split("=");if(d5.length<2){continue}var ea=d5[0].trim();var d9=d5[1].trim();e[ea]=d9}return e};var df=function(){return bg()(104,97,115,104)};var aU=function(e){return e.split("http://").join("").split("https://").join("").split("#")[0].split("?")[0].split("www.").join("").replace(/\/+$/,"")};var dw={isAvailable:function(){var d5=false;try{if(!cF.sessionStorage||!cF.sessionStorage.setItem||!cF.sessionStorage.getItem||!cF.sessionStorage.removeItem){return d5}cF.sessionStorage.setItem("roistat_testKey","testValue");d5=cF.sessionStorage.getItem("roistat_testKey")==="testValue";cF.sessionStorage.removeItem("roistat_testKey")}catch(d6){return false}return d5},remove:function(e){if(this.isAvailable()){cF.sessionStorage.removeItem(di(e))}},setObject:function(e,d5){if(this.isAvailable()){cF.sessionStorage.setItem(di(e),JSON.stringify(d5))}},getObject:function(d5){var e=null;if(this.isAvailable()){e=cF.sessionStorage.getItem(di(d5));e=JSON.parse(e)}return e},set:function(e,d5){if(this.isAvailable()){cF.sessionStorage.setItem(di(e),d5)}},get:function(d5){var e=null;if(this.isAvailable()){e=cF.sessionStorage.getItem(di(d5))}return e}};var aW={fallbackData:{},isAvailable:function(){var d5=false;try{if(!cF.localStorage||!cF.localStorage.setItem||!cF.localStorage.getItem||!cF.localStorage.removeItem){return d5}cF.localStorage.setItem("roistat_testKey","testValue");d5=cF.localStorage.getItem("roistat_testKey")==="testValue";cF.localStorage.removeItem("roistat_testKey")}catch(d6){return false}return d5},remove:function(d5){if(this.isAvailable()){cF.localStorage.removeItem(di(d5))}else{var e=new Date(1970,1,1);a0(d5,"",{expires:e.toUTCString()})}delete this.fallbackData[di(d5)]},setObject:function(e,d5){if(this.isAvailable()){localStorage.setItem(di(e),JSON.stringify(d5))}this.fallbackData[di(e)]=d5},getObject:function(d6){var e=null;if(this.isAvailable()){e=localStorage.getItem(di(d6));e=a8(e)}if(e===null){var d5=this.fallbackData[di(d6)];if(typeof d5!=="undefined"){e=d5}}return e},set:function(e,d5){if(this.isAvailable()){localStorage.setItem(di(e),d5)}else{if(this.isSaveInCookieEnabled()){a0(e,d5,N)}}this.fallbackData[di(e)]=d5},save:function(d5,d6,e){if(this.isAvailable()){localStorage.setItem(di(d5),d6)}a0(d5,d6,e);this.fallbackData[di(d5)]=d6},get:function(d5){var e=null;if(this.isAvailable()){e=localStorage.getItem(di(d5))}if(e===null){e=cE(d5)}if(typeof e==="undefined"){e=this.fallbackData[di(d5)]}return e},isSaveInCookieEnabled:function(){return this.get(v)>0},isExternalCountersEnabled:function(){return this.get(I)>0}};var c1=function(){return !aj(cO.referrer)?cO.referrer:null};var aM=function(e){return typeof e==="function"};var q=function(e){return typeof e==="object"};var cJ=function(e){return typeof e==="string"};var cr=function(d7,d6){d6=typeof d6!=="undefined"?d6:false;var d8=function(eb){var ec=new RegExp("[#&?]"+d7+"=([^#&?]+)");var ea=ec.exec(eb);if(A(ea)&&typeof ea[1]==="string"&&ea[1].length>0){var d9=bN(ea[1]);return typeof d9==="string"&&d9.length>0?d9:ea[1]}return null};var e=d8(l);if(d6){var d5=cO.referrer;if(e===null&&d5){e=d8(d5)}}return e};var bP=function(d5,d6){var e=false;if(d5&&d6){e=d5.split(d6).join("")!==d5}return e};if(cr(ch)==="1"||bm()[ch]==="1"){aP=true}var ab=function(){return true};var aJ=function(){return ab()?cF.roistatMultiWidgetOnly:cF.roistatOnlineChatOnly};var cK=function(){var d5=dt()==="86ee03e4ba0f978620d7a0ee0e2e51dc"||dt()==="4";var e=(cF.location.host==="cloud.roistat.com"||cF.location.host==="cloud-eu.roistat.com")&&cF.location.pathname!=="/user/login"&&cF.location.pathname!=="/user/register";
if(d5&&!e){bR("Current project is Roistat but page is not cloud.roistat.com. Drop init multiwidget");return true}return false};var cL=function(){if("https:"===cO.location.protocol){return"https:"}else{return"http:"}};var bS=function(d5){var e=cO.createElement("img");e.src=d5;bR("sendRequestByUrl: "+d5)};var c8=function(d5,d7){bR("sendApiRequestJSONP: init with url "+d5);var e=cO.createElement("script");e.onload=e.onreadystatechange=function(){var d8=this.readyState?this.readyState:"unknown";bR("sendApiRequestJSONP: script state changed to "+d8)};e.src=z(d5);if(d7){e.setAttribute("data-roistat-script-id",d7)}e.type="text/javascript";e.async=true;var d6=cO.getElementsByTagName("script")[0];d6.parentNode.insertBefore(e,d6);bR("sendApiRequestJSONP: script appended")};var bT=function(){if(L.isCssLoaded){return}(function(){var d6=cO.createElement("link"),d5=cO.getElementsByTagName("head"),e=dN?"module_ma.css":"module.css";d6.setAttribute("rel","stylesheet");d6.setAttribute("href",cL()+"//"+b4+"/dist/"+e+"?"+c0);if(d5.length>0){L.isCssLoaded=true;d5[0].appendChild(d6)}})()};var n=function(){return aw()||F()};var aw=function(){return dI()!==null};var F=function(){return cM()!==null};var dm=function(){var e=M();if(e!==null){a0(aZ,e,ba())}};var M=function(){return dI()||cM()||null};var dI=function(){return cr("roistat_visit")};var cM=function(){return L.visitFromUser};var cw=function(d5,e){if(!e&&(L.isSettingsUpdating||!cO.hasFocus())){bR("Already updating settings or document not in focus, return");return}var d6=bU()+"/get-settings?v="+c0+"&visit="+d5;bR("Request new settings");L.isSettingsUpdating=true;c8(d6)};var dn=function(){return aW.get(dj)>0};var dl=function(){aW.set(dj,1)};var aE=function(){aW.remove(c5);aW.remove(bD);aW.remove(cc);aW.remove(m);aW.remove(bf);aW.remove(bF);aW.remove(g);aW.remove(J)};var de=function(){var d8=function(){return aW.get(r)};var d7=function(){aW.set(r,by)};var d5=function(){return typeof d8()==="string"};var e=function(){var d9=Number(d8())>by;bR("Settings Version: settings version change status - "+d9);return d9};var d6=function(){var d9=1000*60*60*24;var ec=cP();var eb=cC()-ec;var ea=eb>d9;bR("Settings Version:: expiration day check: lastUpdateTime="+ec+", _lastUpdateTimeDiff="+eb+", _oneDayDiffInMs="+d9+", result="+(ea?1:0));return ea};if(!d5()){bR("Settings Version: set settings version up to 1");d7()}if(d6()||e()){bR("Settings Version: clear settings");aE()}};var bG=function(){bR("Call: Init");bR("Counter version: "+c0);if(cr("roistat_ab_demo")==="1"){bR("Roistat initialisation rejected: ab test preview mode");return}aC();dE();if((!bx()||cy())&&!aJ()){ds=true;dZ()}else{de();dm();var e=dk();aI();Z();az();roistat.visit=e;L.source.marker=bt();cF.roistat.geo=aW.getObject(cG);var d5=aW.isAvailable()&&dn();if(!d5){cw(e)}else{d2()}}am(b9);am(aO)};var b9=function(){bR("InitExternalCounter");if(!aW.isExternalCountersEnabled()){bR("ExternalCounters is not available, return");return}var d6=dt();var d5=bV();var d9=d5?d5:dk();var d8=d6+":"+d9;var e=d6+":"+aD.MD5(dR(cO.domain)).toString();var d7=function(ec,ea){var eb=(cO.location.protocol==="https:"?"https:":"http:")+"//tech.rtb.mts.ru/roistat?landing="+ea+"&event_type=view&user_id="+ec;var ed=new XMLHttpRequest;ed.open("GET",eb,true);ed.withCredentials=true;ed.onload=function(){if(ed.readyState===4){if(ed.status!==204){console.error(ed.statusText)}}};ed.onerror=function(){console.error(ed.statusText)};ed.send(null)};d7(d8,e);bR("InitExternalCounter: script appended")};var U=function(d6){if(!d6.isEnabled){return true}var e=new Date();var ed=new Date().toISOString();var ea=e.getUTCDay()===0?7:e.getDay();var eb=ea===6||ea===7;var ec=false;for(var d8=0;d8<d6.days.length;d8++){if(ea===d6.days[d8]){ec=true}}if(!ec){return false}if(eb&&d6.weekendsTime!==null){var ee=new Date(d6.weekendsTime.from).toISOString();var d7=new Date(d6.weekendsTime.to).toISOString();return ed>=ee&&ed<=d7}var d9=new Date(d6.weekdaysTime.from).toISOString();var d5=new Date(d6.weekdaysTime.to).toISOString();return ed>=d9&&ed<=d5};var aC=function(){bR("Call: initMarker");dU=cp();bR("Call: inited marker: "+dU)};var dE=function(){bR("Call: initReferrer");aN=c1();bR("Call: end initReferrer: "+aN)};var aO=function(){bR("Call: parsing roistat params from url");var d7={};for(var d6=1;d6<=cb;d6++){var d5="roistat_param"+d6;d7[d5]=cr(d5,false)}var e=dD(d7);if(B(e)&&Object.keys(e).length>0){O(e)}bR("Call: end parsing roistat params from url")};var aj=function(d6){if(!d6){return true}var e=dR(d6);var d5=dR(cO.domain);if(e===d5){return true}var d7=bM();if(d7===null){return false}if(bP(e,d7)&&bP(d5,d7)){return true}return false};var bM=function(){if(typeof N.domain==="string"&&N.domain!==""){return dR(N.domain)}return null};var dR=function(e){var d5=e.split("http://").join("").split("https://").join("").split("www.").join("").replace(/^\./,"");return d5.split("/")[0]};var cp=function(){var d6=cE(a3)>0;var eb=null;var e=function(ec){return ec.split("_").join(":u:")};var d7=function(){var ec=false;
var ed;ed=cr(bh,d6);if(ed!==null){eb=ed;ec=true}ed=cr(bu,d6);if(ed!==null){eb=ed;ec=true}return ec};var ea=function(){var ec=false;var ed=bt();if(ed){eb=ed;ec=true;au=false}return ec};var d5=function(){var ec=false;var ee=cr("utm_source",d6);if(ee!==null){ec=true;eb=":utm:"+e(ee);var eg=["utm_medium","utm_campaign","utm_content","utm_term"];var ed;for(var ef=0;ef<eg.length;ef++){ed=cr(eg[ef],d6);if(ed!==null){eb=eb+"_"+e(ed)}}}return ec};var d9=function(){var ee,ed,ec=false;ed=cr("_openstat",d6);if(!ed){return false}if(d8(ed)){ee=ed}else{ee=encodeURI(bc.decode(ed));if(!d8(ee)){ee=ed}}if(ee){ee=e(ee).split(";").join("_");eb=":openstat:"+ee;ec=true}return ec};var d8=function(ec){return ec.match(/^([^;]*(;[^;]*){3})$/)!==null};if(d7()){bR("Init marker: init from RS param "+eb);return eb}if(d5()){bR("Init marker: init from UTM "+eb);return eb}if(d9()){bR("Init marker: init from OpenStat "+eb);return eb}bR("Init marker: try init from cookie "+eb);ea();return eb};var dk=function(){return aW.get(aZ)};var bV=function(){return aW.get(bY)};var cY=function(){bR("Call: saveReferrer");aW.set(ae,aN)};var dK=function(){bR("Call: removeReferrer");aW.remove(ae)};var aR=function(){a0(dS,bN(dU),ba())};var az=function(){bR("Call: refreshPromoCode");if(aJ()){bR("PromoCode: Shut down because only online chat need to be inited");return}var e=function(){return cE(aZ)};bB(e());if(!cF.onload){cF.onload=function(){bB(e())}}setTimeout(function(){bB(e())},50);setTimeout(function(){bB(e())},200);setTimeout(function(){bB(e())},2000);setTimeout(function(){bB(e())},10000)};cF.roistatPromoCodeRefresh=az;var ci=function(){var e=[];var d5=cO.getElementsByClassName(cD);if(d5&&d5.length){e=d5}return e};var bB=function(e){var d7=ci();bR("setPromoCode: "+e+" in "+d7.length+" elements");for(var d6=0;d6<d7.length;d6++){var d5=d7[d6];d5.innerHTML=e?e:""}};var cW=function(){var d6=cp(),d5=cE(dS),d8=d6!==null,d7=true;var ea=bN(bN(d6)).toLowerCase().split("+").join(" "),d9=bN(bN(d5)).toLowerCase().split("+").join(" ");if(d6&&d5){d7=ea!==d9}var e=d8&&d7;co="Call: needOverrideByMarker (result "+(e?"true":"false")+") with current "+d6+":"+ea+" and old "+d5+":"+d9;bR(co);return e};var bl=function(){var d5=function(ed){return/[\u0400-\u04FF]/.test(ed)};var ec=false,d9=aN,e=aW.get(ae),eb=cF.location.host;if(!d9||!eb){bR("Call: needOverrideByReferrer (result "+(ec?"true":"false")+"), skip because one of params is empty");return ec}eb=dR(eb);d9=bN(d9);e=bN(e);var d7=dR(d9);if(bP(d9,"xn--")&&d5(eb)){bR("Call: needOverrideByReferrer (result "+(ec?"true":"false")+"), skip because of bugs with punycode in FF");return ec}if(!d7){bR("Call: needOverrideByReferrer (result "+(ec?"true":"false")+"), skip because current referrer is null");return ec}if(!e){ec=!bP(d7,eb);bR("Call: needOverrideByReferrer (result "+(ec?"true":"false")+"), compare current referrer and host");return ec}if(bP(d9,e)){bR("Call: needOverrideByReferrer (result "+(ec?"true":"false")+"), skip because the same referrer");return ec}var ea=eb.split(".").length>2&&d7.split(".").length>2;var d8=cF.roistatCookieDomain!==dW&&cF.roistatCookieDomain!==eb;var d6=d7.split(".").slice(1).join(".")===eb.split(".").slice(1).join(".");if(ea&&d8&&d6){bR("Call: needOverrideByReferrer (result "+(ec?"true":"false")+"), skip because sub domains of same domain");return ec}ec=!(bP(d7,eb)||(bP(eb,d7)));bR("Call: needOverrideByReferrer (result "+(ec?"true":"false")+") referrerHost: "+d7+", currentHost: "+eb);return ec};var ct=function(){return cr("utm_nooverride")==="1"};var cy=function(){return !n()&&!ct()&&(cW()||bl())};var bz=function(d5,e){return(d5&&e&&d5!=e)};var G=function(d7){var d5=["cookieExpire"];var d9=d7.leadHunterEnabled;if(Number(aW.get(ck))!==Number(d7.leadHunterEnabled)){aW.set(ck,Number(d7.leadHunterEnabled))}if(d9){var d8={expires:c6,path:"/"};if(N.domain){d8.domain=N.domain}a0(cu,1,d8)}for(var d6 in d7){if(!Object.prototype.hasOwnProperty.call(d7,d6)){continue}if(!d9&&d6.indexOf("leadHunter")>=0&&d6.indexOf("leadHunterTargetPagesMap")===-1){continue}if(!ax(d5,d6)){if(d6.indexOf("leadHunterTargetPagesMap")!==-1){var e=a8(d7[d6]);if(e!==null){aW.setObject("roistat_"+d6,e)}continue}aW.set("roistat_"+d6,d7[d6])}}};var dT=function(e){if(!e){return}roistat.multiwidget={isEnabled:e.is_enabled,isVisible:roistat.multiwidget.isVisible,vk:{isEnabled:e.vk.is_enabled,link:roistat.multiwidget.vk.link||e.vk.link},fb:{isEnabled:e.fb.is_enabled,link:roistat.multiwidget.fb.link||e.fb.link},telegram:{isEnabled:e.telegram.is_enabled,link:roistat.multiwidget.telegram.link||e.telegram.link},whatsApp:{isEnabled:e.whats_app.is_enabled,link:roistat.multiwidget.whatsApp.link||e.whats_app.link},viber:{isEnabled:e.viber.is_enabled,link:roistat.multiwidget.viber.link||e.viber.link}};if(Number(aW.get(bQ))!==Number(e.is_enabled)){aW.set(bQ,Number(e.is_enabled))}if(Number(aW.get(o))!==Number(e.vk.is_enabled)){aW.set(o,Number(e.vk.is_enabled))}if(aW.get(x)!==roistat.multiwidget.vk.link){aW.set(x,roistat.multiwidget.vk.link)}if(Number(aW.get(X))!==Number(e.fb.is_enabled)){aW.set(X,Number(e.fb.is_enabled))
}if(aW.get(cS)!==roistat.multiwidget.fb.link){aW.set(cS,roistat.multiwidget.fb.link)}if(Number(aW.get(bb))!==e.telegram.is_enabled){aW.set(bb,Number(e.telegram.is_enabled))}if(aW.get(dL)!==roistat.multiwidget.telegram.link){aW.set(dL,roistat.multiwidget.telegram.link)}if(Number(aW.get(cj))!==e.whats_app.is_enabled){aW.set(cj,Number(e.whats_app.is_enabled))}if(aW.get(aY)!==roistat.multiwidget.whatsApp.link){aW.set(aY,roistat.multiwidget.whatsApp.link)}if(Number(aW.get(a))!==e.viber.is_enabled){aW.set(a,Number(e.viber.is_enabled))}if(aW.get(b3)!==roistat.multiwidget.viber.link){aW.set(b3,roistat.multiwidget.viber.link)}aW.setObject(cV,e)};var aq=function(e){roistat.onlineChat.isEnabled=e.is_enabled;if(Number(aW.get(bF))!==Number(e.is_enabled)){aW.set(bF,Number(e.is_enabled))}roistat.onlineChat.isAvailableForCurrentUserAgent=e.advanced_settings.is_available_for_current_user_agent;roistat.onlineChat.pagesFilter=e.advanced_settings.pages_filter;aW.setObject(aX,e.advanced_settings)};var cT=function(e){cF.roistat.geo=e;aW.setObject(cG,e)};var al=function(e){bR("PromoCode: save settings");aW.setObject(bC,e)};var D=function(e){bR("LinksMarkup: save settings");aW.setObject(bk,e)};var ap=function(d7,d6,eb,d9,e,ea,d8,ec,d5){G(d7);roistat.callTracking.enabled=d6.is_enabled;roistat.emailtracking.loaded=true;roistat.emailtracking.email=eb.email;roistat.emailtracking.trackingEmail=eb.trackingEmail;roistat.emailtracking.emails=eb.emails;roistat.proxyForms.loaded=true;roistat.proxyForms.settings=e;dT(ea);aq(d8);cT(d9);al(ec);D(d5)};cF.roistatModuleSetVisitCookie=function(ea,ei,d8,d5,eh,ed,e,ek,ec,ej,d6){bR("Call: roistatModuleSetVisitCookie("+ea+")");var ee;if(typeof d8.cookieExpire!=="number"){ee=ba().expires}else{ee=d8.cookieExpire}var eb=cE(aZ);var eg={expires:ee,path:"/"};if(N.domain){eg.domain=N.domain}aW.save(aZ,ea,eg);if(!bV()){var d7={expires:10*365*24*60*60,path:"/"};if(N.domain){d7.domain=N.domain}aW.save(bY,ea,d7)}var ef=d8.abTests;if((typeof ef!=="undefined")&&aW.isAvailable()){aW.setObject("abTesting",ef)}applyTests();var d9=d8.isNeedToListenRequests;if((typeof d9!=="undefined")&&aW.isAvailable()){aW.set(d3,d9)}bB(ea);if(ei){aT(ei);a0(dS,ei,eg)}if(cF.roistatCallback!==dW){cF.roistatCallback(ea,ei)}if(!ek){ek={}}ap(d8,d5,eh,ed,e,ek.multiwidget_settings,ec,ej,d6);roistat.callTracking.phone=d5.phone;roistat.callTracking.sessionTime=d5.sessionTime;roistat.callTracking.replacementClasses=d5.replacementClasses;roistat.callTracking.phoneScriptsJson=d5.scripts;roistat.callTracking.rawPhone=d5.raw_phone;roistat.visit=ea;bR("Call: pre renderPromoCode");Z();az();if(bz(eb,ea)){bR("roistatModuleSetVisitCookie: visit changed from "+eb+" to "+ea)}cm();dl();d2()};cF.roistatUpdateSettings=function(e){bR("Set settings.");L.isSettingsUpdating=false;ap(e.js_settings,e.calltracking,e.emailtracking,e.geo,e.proxy_forms,e.multiwidget.multiwidget_settings,e.online_chat,e.promo_code,e.links_markup);dl();d2()};var bx=function(){var e;if(cF.roistatIsInitVisit===true){e=false}else{e=aW.get(aZ)>0}bR("Call: alreadyVisited (return "+(e?"true":"false")+")");return e};var cH=function(e){return encodeURIComponent?encodeURIComponent(e):encodeURI(e)};var cI=function(){return aN?cH(aN):""};var bU=function(){return cL()+"//"+b4+"/api/site/"+d+"/"+dt()};var b0=function(){var d5={expires:1,path:"/"};var e={expires:at,path:"/"};if(N.domain){d5.domain=N.domain;e.domain=N.domain}var d6=cE(bn);if(d6){a0(H,d6,e)}a0(bn,"",d5);a0(dG,"",d5)};var cn=function(){var d5=aW.getObject("abTesting");if(!q(d5)){return""}var d7,d6,e=[];for(d7 in d5){if(!Object.prototype.hasOwnProperty.call(d5,d7)){continue}d6=d5[d7];e.push(d6.id+":"+d6.variantId)}return e.join(",")};var dZ=function(){bR("Call: setVisitIdCookie");var d5=function(){var eg=cI(),eb=cF.roistatIsInitVisit===true?dk():0,ej=cE(bn),ee=cE(bW),d9=bV();ej=ej?ej:"";d9=d9?d9:"";dU=dU&&(!bl()||au)?bN(bN(dU)):"";var ef=encodeURIComponent(l);bR("Calltracking: enabled="+K.callTrackingEnabled+",manual="+K.callTrackingManual);var eh=JSON.stringify(cF.roistat.page.params);var ed=av();var d8="";for(var ec in ed){if(!ed.hasOwnProperty(ec)){continue}var ei=ed[ec];if(ei!==null){d8+="&"+ec+"="+encodeURIComponent(ei)}}var ea=bU()+"/addVisit?v="+c0+"&marker="+encodeURIComponent(dU)+"&visit="+eb+"&first_visit="+d9+"&guid="+ee+"&phone_prefix="+c+"&phone_prefix_bind="+aH+"&phone_scripts_bind="+cv+"&referrer="+eg+"&page="+ef+"&ab="+cH(ej)+"&ab_variants="+cH(cn())+"&"+df()+"="+s()+(eh==="{}"?"":"&page_params="+encodeURIComponent(eh))+((!K.callTrackingEnabled||K.callTrackingManual)?"&call_tracking_disabled=1":"")+d8;return ea};var e=function(d8){setTimeout(function(){bR("Call: setVisitIdCookie script creation after timeout");var d9=cO.createElement("script");d9.onload=function(){bR("Call: setVisitIdCookie script loaded")};d9.src=z(d8);d9.type="text/javascript";d9.async=true;d9.id=b7;var ea=cO.getElementsByTagName("script")[0];ea.parentNode.insertBefore(d9,ea);bR("Call: setVisitIdCookie appended "+((cO.getElementById(b7))?"true":"false"));
bR("Call: sendJSONPRequest to URL "+d8);b0()},K.jsonpRequestTimeout)};if(dU){aT(dU);aR()}var d7=cE(Q);if(d7){a0(bW,d7,N)}cd();var d6=d5();e(d6);aN?cY():dK()};var aI=function(){bR("Call: sendAbTests");var d6=function(){var ea=dt(),d9=cE(aZ);return z(cL()+"//"+b4+"/site-api/"+bo+"/"+ea+"/visit/"+d9+"/addAbVariant")};var d7=cE(bn);var d5=cE(H);if(d7===d5||!d7){b0();return}var d8=d6();d8=d8+"?ab="+cH(d7);var e=cO.createElement("img");e.src=d8;b0()};var dc={Android:function(){return navigator.userAgent.match(/Android/i)},BlackBerry:function(){return navigator.userAgent.match(/BlackBerry/i)},iOS:function(){return navigator.userAgent.match(/iPhone|iPad|iPod/i)},Opera:function(){return navigator.userAgent.match(/Opera Mini/i)},Windows:function(){return navigator.userAgent.match(/IEMobile/i)},any:function(){return(dc.Android()||dc.BlackBerry()||dc.iOS()||dc.Opera()||dc.Windows())}};var bs={isIE:function(d6,d8){var d9="IE",d5=cO.createElement("B"),e=cO.documentElement,d7;if(d6){d9+=" "+d6;if(d8){d9=d8+" "+d9}}d5.innerHTML="<!--[if "+d9+']><b id="iecctest"></b><![endif]-->';e.appendChild(d5);d7=!!cO.getElementById("iecctest");e.removeChild(d5);return d7},isSafari:function(){var e=cF.navigator.userAgent.toLowerCase();return e.includes("safari")&&!e.includes("chrome")}};var cP=function(){return aW.get(cf)};var dr=function(){var e="";cF.onerror=function(ea,d9,d6,d8,d7){var d5=!d8?"":", column: "+d8;d5+=!d7?"":", error: "+d7;e=e+", Error: "+ea+", url: "+d9+", line: "+d6+d5};setTimeout(function(){var ec=false,ed="";var d8=ci();for(var eb=0;eb<d8.length;eb++){var d7=d8[eb];if(d7!==null&&!d7.innerHTML){ec=true;ed="Promo HTML: "+d7.innerHTML}}if(!(cE(aZ)>0)){ec=true;ed=ed+"; roistat_visit = "+cE(aZ)}if(ec){var d6=cO.getElementById(b7);var d5=d6?1:0;var d9=cF.navigator.userAgent;ed=encodeURIComponent(ed);var ea=cO.createElement("img");ea.src=z(cL()+"//"+b4+"/site-api/"+bo+"/"+dt()+"/debug?message="+ed+"&agent="+d9+"&"+df()+"="+s()+"&jserror="+e+"&scriptResponse="+d5+"&version="+c0+"&debug="+t)}},20000)};var ce=function(){var d6=cO.getElementsByTagName("body");var d7=cO.documentElement;var d5=0,d8=0;if(d6.length){var e=d6[0];d5=cF.innerWidth||d7.clientWidth||e.clientWidth;d8=cF.innerHeight||d7.clientHeight||e.clientHeight}else{d5=cF.innerWidth||d7.clientWidth;d8=cF.innerHeight||d7.clientHeight}return{width:d5,height:d8}};var Z=function(){var ea=cO.getElementsByClassName("roistat-promo-wrap");if(ea.length){bR("PromoCode: old promo code length - exit");return}if(aJ()){bR("PromoCode: Shut down because only online chat need to be inited");return}var d9=aW.getObject(bC);if(d9&&d9.hasOwnProperty("is_enabled")){cF.roistat.promoCode.isEnabled=d9.is_enabled;bR("PromoCode: set is_enabled from storage")}var d7=function(){var eh=cO.createElement("div");eh.innerHTML=roistatPromoCode;var ef=cO.getElementsByTagName("body");if(ef.length){ef[0].appendChild(eh)}bR("PromoCode: appended to body "+roistatPromoCode.length);var eg=cO.getElementsByClassName("roistat-promo-wrap")[0];if(!eg){bR("PromoCode: roistat-promo-wrap not found, skip");return}var ee=eg.style;var ec,ed,eb;setInterval(function(){ec=ce();ed=eg.offsetWidth;eb=eg.offsetHeight*2;switch(roistatPosition){case"top_left":ee.left=0;ee.top=0;break;case"top":ee.left=((ec.width-ed)/2)+"px";ee.top=0;break;case"top_right":ee.right=0;ee.top=0;break;case"left":ee.left=0;ee.top=((ec.height-eb)/2)+"px";break;case"right":ee.right=0;ee.top=((ec.height-eb)/2)+"px";break;case"bottom_left":ee.left=0;ee.bottom=0;break;case"bottom":ee.left=((ec.width-ed)/2)+"px";ee.bottom=0;break;case"bottom_right":ee.right=0;ee.bottom=0;break;default:ee.left=0;ee.top=0}},500)};var e=aW.getObject("promo_code_options");if(e){bR("PromoCode: options already set");cF.roistatPromoCode=e.template;cF.roistatPosition=e.position;d7()}else{if(!cF.roistat.promoCode.isEnabled){bR("PromoCode: is not available, skip");return}var d8=cO.getElementsByTagName("head")[0]||cO.documentElement;var d6=cO.createElement("script");d6.src=z(cL()+"//"+b4+"/site-api/"+bo+"/"+dt()+"/getPromoCode");d8.insertBefore(d6,d8.firstChild);bR("PromoCode: loading started");var d5=false;d6.onload=d6.onreadystatechange=function(){if(!d5&&(!this.readyState||this.readyState==="loaded"||this.readyState==="complete")){d5=true;d6.onload=d6.onreadystatechange=null;if(d8&&d6.parentNode){d8.removeChild(d6)}}if(!d5){return}bR("PromoCode: loaded");if(typeof roistatPromoCode==="undefined"||roistatPromoCode.length<1){bR("PromoCode: is disabled");return}e={template:roistatPromoCode,position:roistatPosition};aW.setObject("promo_code_options",e);d7()}}};var ax=function(d5,d6){for(var e=0;e<d5.length;e++){if(d5[e]===d6){return true}}return false};var dF=function(d5){if(!an||d5===""){return}var e=dk();be("visit: "+e+" "+d5)};var be=function(d5){var e=bU()+"/log?log="+encodeURIComponent(d5);c8(e)};var dX=function dX(){var d8=cF.onpopstate;var d9=cF.history.pushState;var e=cF.history.replaceState;cx(cF,"popstate",function d7(ea){bR("[Roistat]: popstate event catch");cU();if(b8()&&typeof d8==="function"){d8(ea)
}});cx(cF.history,"pushState",function d6(eb,ec,ea){bR("[Roistat]: pushState event catch");cU();if(b8()&&typeof d9==="function"){d9.apply(this,[eb,ec,ea])}});cx(cF.history,"replaceState",function d5(eb,ec,ea){bR("[Roistat]: replaceState event catch");cU();if(b8()&&typeof e==="function"){e.apply(this,[eb,ec,ea])}})};(function R(){dX();if(cF.onRoistatModuleLoaded!==dW&&typeof cF.onRoistatModuleLoaded==="function"){cF.onRoistatModuleLoaded()}})();(function aa(){var d5="fngr."+k(b4);var d8=false;if(!d8){bR("Fingerprint: disabled");return}cF.roistat.crossdevice={registerFingerprint:function d6(d9){bR("Fingerprint: collected data "+JSON.stringify(d9));roistat.registerOnVisitProcessedCallback(function(){bR("Fingerprint: sending to service");var ea=Object.keys(d9).map(function(ec){return d9[ec].key+"="+encodeURIComponent(d9[ec].data)}).join("&");ea=ea+"&visit="+dt()+"|"+bV()+"|"+roistat.getVisit();ea+="&host="+encodeURIComponent(cF.location.host);var eb=cL()+"//"+d5+"/register?"+ea;c8(eb)})},markVisit:function e(d9){bR("Fingerprint: marking visit "+d9)}};bR("Fingerprint: initialising library");var d7=cL()+"//"+d5+"/static/fingerprint.js";c8(d7)})();var cB=function(d5){var ea=function(eh,ef){var ee;if(bP(ef,"*")){var eg=new RegExp(ef.split("*").join(".*"));ee=eg.test(eh)}else{ee=eh===ef}bR("LeadHunter: compare current: "+eh+", setting: "+ef+" with result = "+(ee?1:0));return ee};var e=cF.location.href,d7=false,d6=false,ec="",d8=0,eb;eb=d5?d5.split(","):[];if(!e||eb.length===0){d7=true}else{ec=aU(e);var ed;for(var d9=0;d9<eb.length;d9++){ed=eb[d9].split("www.").join("").split("http://").join("").split("https://").join("").replace(/\/+$/,"");if(/^!/.test(ed)){if(ea(ec,ed.split(/^!/).join(""))){d6=true;break}}else{d8++;if(ea(ec,ed)){d7=true;break}}}}if(d6){bR('LeadHunter: current page "'+ec+'" is disabled by list');return false}if(!d7&&d8>0){bR('LeadHunter: current page "'+ec+'" is not listed');return false}bR('LeadHunter: current page "'+e+'", cleaned: "'+ec+'" is not disabled in '+eb.length+" list of pages");return true};try{bG()}catch(dy){dF(dy)}(function j(){var eu="empty",eb=false,d5=true,el=false;var eq={roistat_visit:cE(aZ),marker:dU,user_agent:cF.navigator.userAgent,current_page:{title:cO.title,href:cF.location.protocol+"//"+cF.location.host+cF.location.pathname}};var ev=function(eB,eA,ez){if(eB.addEventListener){eB.addEventListener(eA,ez,false)}else{if(eB.attachEvent){eB.attachEvent("on"+eA,ez)}else{bR("Handler could not be attached")}}};var en=function(eB,ez){if(eB===dW||typeof ez!=="string"||ez.length===0){return}var eA=eB.getElementsByClassName(ez);if(eA===dW||eA.length===0){return}return eA[0]};var ew=function(ez){return typeof ez==="object"&&ez!==null};var ec=function(ez,eB,eA){if(ew(ez)){if(eA){ez.classList.add(eB);return}ez.classList.remove(eB)}};var ex=cF.visualViewport;var ek="visualViewport" in cF;var eo=function(ez){return(ez===0)?1:ez};var ey=function(){var ez;if(ek){ez=1/eo(ex.scale)}else{ez=cF.innerWidth/eo(cF.outerWidth)}return ez};var es=function(){if(aL()){return"none"}return"scale("+ey()+")"};var ea=function(){if(!aL()){return"none"}return"scale("+ey()+")"};var er={leadHunter:function(){var gk="roistat-lh-form",eW="roistat-lh-form",gm="roistat-lh-head-text",fa="roistat-lh-head",eT="roistat-lh-thank-you",fB="roistat-lh-thank-you",eE="roistat-lh-close",eF="roistat-lh-submit",fj="roistat-lh-hidden",f0="roistat-lh-wrap",eY="roistat-lh-popup-wrapper",fA="roistat-lh-popup",gl="roistat-lh-agreement",fw="roistat-lh-agreement roistat-lh-mobile",gA="roistat-lh-agreement-input",gb="roistat-lh-agreement-link",ez="roistat-lh-agreement-doc",gg="roistat-lh-alert-row",fI="roistat-lh-agreement",fv="roistat-lh-popup-iframe",fL="roistat_leadHunterUrl",gd="roistat_leadHunterAppearanceUrl",fn="roistat_leadHunterTargetPagesList",eS="roistat_leadHunterCaught",fS="roistat_leadHunterMinTime",fe="roistat_leadHunterAutoShowTime",fP="roistat_leadHunterPulsatorEnabled",e8="roistat_leadHunterScriptsCaught",gB="roistat_leadHunterScriptsShownCount",ft="roistat-lh-load-done",eX="roistat-lh-close-modal",f2="roistat-lh-script-settings",f1="roistat-lh-setting-size",gh="roistat-lh-before-submit",fM="roistat-lh-before-submit-done",go="roistat-lh-after-submit",f5="roistat-lh-event-data",f6="roistat-lh-translate-form",gx={topLeft:{bottom:"80%",right:"auto",transformOrigin:"top left"},topRight:{bottom:"80%",right:"3%",transformOrigin:"top right"},bottomRight:{bottom:"10%",right:"3%",transformOrigin:"bottom right"},bottomLeft:{bottom:"10%",right:"auto",transformOrigin:"bottom left"}};var eR=0.3,e2=0.001,eU=false,e5=0,e0=0,e6=0,gp=0,e4=0,fk=false,eJ=false,gz=false,e3,gf,fD,fJ,fZ,e9,gy,gt,gc,gw,eN,gq,fW,fE,fu,eQ,eC,fi,e7,ff,f9,gi,fc,fm;var gs={pulsator:{previousClass:""},leave:{isShowEnabled:false},timeoutId:0};var gn=function(gG){var gF=encodeURIComponent?encodeURIComponent:encodeURI;return gF(gG)};var f4=function(){if(!cF.roistat.leadHunter.isEnabled){return false}if(cF.roistatLeadHunterInited){return false}cF.roistatLeadHunterInited=true;
if(aW.get(ck)<1){bR("LeadHunter: disabled");return false}return true};var fh=function(){eC=aW.get(fL);if(!eC){bR("LeadHunter: not active cause of empty url");return false}bT();fi=aW.get(gd);gp=aW.get(fS);e4=cF.roistat.leadHunter.form.autoShowTime===null?aW.get(fe):cF.roistat.leadHunter.form.autoShowTime;eb=aW.get(fP)==1;eB();bR("LeadHunter: initSettings end, isLeadHunterPulsatorEnabled: "+(eb?1:0));return true};var fp=function(){if(cq){return fX()||e1()}return aW.get(eS)>0};var eB=function(){if(!(cE(cu)>0)){bR("LeadHunter: not active, expired for this visit");fk=true}};var eK=function(gF){gz=true;ff=f9.src;var gG={version:c0,additionalNotifyEmail:cF.roistat.leadHunter.additionalNotifyEmail,projectKey:dt(),language:dq,visitId:aA(),moduleTargetOrigin:cF.location.origin,referrer:cF.location.href,windowWidth:cF.innerWidth||0,iframeWrapperWidth:fJ.offsetWidth||0,sendRequestUrl:aW.get(fL),message:ft};f9.contentWindow.postMessage(gG,ff);fR();if(gF&&cB(aW.get(fn))){bR("iframe fired, rise up iframe show count state");eD()}};var fs=function(){eJ=true;eI("click");eK();fY()};var eH=function(){var gF=cF.location.hash;if(!gF){return}if(bP(gF,"roistat-lead-hunter")){fs()}};var fq=function eP(){bR("LeadHunter: binding timeout");if(fk){bR("LeadHunter: leadhunter is expired, no timeout show allowed");return}if(eU){bR("LeadHunter: leadhunter was shown, no timeout show allowed");return}if(e4>0){var gF=(e5-cC())+e4*1000;bR("LeadHunter: binding timeout with delay "+gF+" ms");clearTimeout(gs.timeoutId);gs.timeoutId=setTimeout(function(){bR("LeadHunter: form auto activate with autoTime = "+e4);if(cq&&fp()){return}if(!eU){bR("LeadHunter: show by timeout");eJ=true;eI("auto");eK(true);fY()}},gF)}else{clearTimeout(gs.timeoutId);bR("LeadHunter: auto show time is not positive, feature disabled")}};var ge=function(){gc.onclick=fZ.onclick=fG;gw.onclick=fl;if(ew(gq)){ev(gq,"click",fx)}if(ew(fW)){ev(fW,"change",gD)}var gG=cO.getElementsByClassName("roistat-lh-input");if(Array.isArray(gG)){for(var gJ=0;gJ<gG.length;gJ++){ev(gG[gJ],"keyup",function(gN){gN=gN||event;var gM=(gN.keyCode?gN.keyCode:gN.which);if(gM==13){fl()}})}}var gH=cF.onresize;cF.onresize=function(gM){if(gH){gH(gM)}gj(gM)};if(!fk){var gF=cO.onmouseout;cO.onmouseout=function(gM){if(gF){gF(gM)}fV(gM)}}if(eb&&!ej()&&ew(e3)){e3.onmouseover=function(){dz(e3,"roistat-lh-pulsator-hover")};e3.onmouseout=function(){dH(e3,"roistat-lh-pulsator-hover")};e3.onclick=function(){fs()};cF.addEventListener("resize",function gL(){if(ew(e3)){e3.style.transform=es()}});if(ek){ex.addEventListener("resize",function gK(){if(ew(e3)){e3.style.transform=es()}})}}var gI=cF.onhashchange;cF.onhashchange=function(){if(gI){gI.apply(this,arguments)}eH()}};var gv=function(){if(eb&&!ej()&&ew(e3)){e3.onmouseover=function(){dz(e3,"roistat-lh-pulsator-hover")};e3.onmouseout=function(){dH(e3,"roistat-lh-pulsator-hover")};e3.onclick=function(){fs()};cF.addEventListener("resize",function gJ(){e3.style.transform=es()});if(ek){ex.addEventListener("resize",function gI(){if(ew(e3)){e3.style.transform=es()}})}}fZ.onclick=fG;f9=cO.getElementById(fv);if(ew(f9)){ev(f9,"load",function(){eK();gr()})}var gG=cF.onresize;cF.onresize=function(gK){if(gG){gG(gK)}gj(gK)};if(!fk){var gF=cO.onmouseout;cO.onmouseout=function(gK){if(gF){gF(gK)}if(!cq){bR("ShowLimit: Beta Test off, check cursor usually");fV(gK)}else{bR("ShowLimit: check cursor by caught or max show limit");if(!fp()){bR("ShowLimit: Check cursor allowed");fV(gK,true)}}}}var gH=cF.onhashchange;cF.onhashchange=function(){if(gH){gH.apply(this,arguments)}eH()}};var fF=function(gG){var gF=cO.getElementsByClassName(gG);if(gF.length>0){return gF[0]}else{return null}};var fC=function(){var gI=fF("roistat-lh-title");if(ew(gI)&&roistat.leadHunter.form.title){gI.innerHTML=roistat.leadHunter.form.title}var gG=fF("roistat-lh-sub-title");if(ew(gG)&&roistat.leadHunter.form.subTitle){gG.innerHTML=roistat.leadHunter.form.subTitle}var gH=fF("roistat-lh-thank-you");if(ew(gH)&&roistat.leadHunter.form.thankYouText){gH.innerHTML=roistat.leadHunter.form.thankYouText}var gK=fF("roistat-lh-submit");if(ew(gK)&&roistat.leadHunter.form.buttonText){gK.value=roistat.leadHunter.form.buttonText}var gJ=fF("roistat-lh-text-label-name");if(ew(gJ)&&roistat.leadHunter.form.nameLabel){gJ.innerHTML=roistat.leadHunter.form.nameLabel}var gF=fF("roistat-lh-text-label-contact");if(ew(gF)&&roistat.leadHunter.form.contactLabel){gF.innerHTML=roistat.leadHunter.form.contactLabel}};var eZ=function(gG,gK,gJ){if(cO.body===null){return}var gF;if(!gG){bR("LeadHunter: deactivating, empty form")}else{bR("LeadHunter: rendering hidden form")}fZ=cO.createElement("div");fJ=cO.createElement("div");fJ.innerHTML=gG;fZ.className=fj;fJ.className=fj;bR("LeadHunter: processForm, isLeadHunterPulsatorEnabled: "+(eb?1:0));if(gK&&eb&&gJ&&!ej()){var gH=typeof gJ.position==="string"&&gJ.position!==""?gJ.position:"bottomRight";gF=cO.createElement("div");gF.innerHTML=gK;e3=gF.childNodes.item(0);gf=e3.childNodes.item(1);fD=e3.childNodes.item(2).childNodes.item(0);
gf.setAttribute("style","background: "+gJ.button.background+";");fD.setAttribute("style","fill: "+gJ.button.color+";");e3.setAttribute("style","bottom: "+gx[gH].bottom+";right:"+gx[gH].right+";");e3.style.transformOrigin=gx[gH].transformOrigin;e3.style.transform=es();gs.pulsator.previousClass=e3.className;e3.className=fj;cO.body.appendChild(e3)}cO.body.appendChild(fZ);cO.body.appendChild(fJ);e9=cO.getElementById(fa);gy=cO.getElementById(eW);gt=cO.getElementById(fB);gc=cO.getElementById(eE);gw=cO.getElementById(eF);eN=cO.getElementById(gl);fW=cO.getElementById(gA);gq=cO.getElementById(gb);fE=cO.getElementById(ez);fu=cO.getElementById(gg);eQ=cO.getElementById(fI);var gI=fF(eY);e7=ew(gI)&&gI.getAttribute("data-is-iframe");if(e7){gv()}else{fC();ge();eH();gr()}};var gu=function(gH){var gG=gH.button&&gH.button.background&&gH.button.color;if(!gG){return}aW.setObject(cc,fm);var gF=typeof gH.position==="string"&&gH.position!==""?gH.position:"bottomRight";if(ew(gf)){gf.setAttribute("style","background: "+gH.button.background+";")}if(ew(fD)){fD.setAttribute("style","fill: "+gH.button.color+";")}if(ew(e3)){e3.setAttribute("style","bottom: "+gx[gF].bottom+";right:"+gx[gF].right+";");e3.style.transformOrigin=gx[gF].transformOrigin;e3.style.transform=es()}};var eO=function(){var gF=aW.get(c5),gH=aW.get(bD),gG=aW.getObject(cc);if(gG!==null){eZ(bc.decode(gF),bc.decode(gH),gG)}};var fo=function(){var gG=fJ.clientWidth,gF=fJ.clientHeight;if(ew(fJ)){fJ.setAttribute("style",fJ.getAttribute("style")+" width: "+gG+"px; height: "+gF+"px;")}if(ew(gy)){gy.className=fj}if(ew(e9)){e9.className=fj}if(ew(eN)){eN.className=fj}if(ew(gt)){gt.setAttribute("style","width: "+gG+"px; height: "+gF+"px; display: table-cell;");gt.className=eT}setTimeout(function(){bR("LeadHunter: close form after timeout");fG()},7000)};var fY=function(){var gG=Math.round((ga()-fJ.clientHeight)/2);var gF=Math.round((gE()-fJ.clientWidth)/2);if(ew(fJ)){fJ.setAttribute("style","left: "+gF+"px; top: "+Math.max(0,gG)+"px;")}};var eI=function(gG){if(!cB(aW.get(fn))){return}if(cF.roistat.leadHunter.onBeforeAppear){bR("LeadHunter: process user defined onBeforeAppear");cF.roistat.leadHunter.onBeforeAppear(gG);if(e7){fR()}}if(ew(fJ)){fJ.setAttribute("style","left:20px;top:-20px;opacity:0");fJ.className=fA}if(ew(fZ)){fZ.className=f0}if(ew(gy)){gy.className=gk}if(ew(e9)){e9.className=gm}if(ew(eN)){eN.className=fw}if(ew(gt)){gt.setAttribute("style","");gt.className=fj}if(ew(fZ)){fZ.setAttribute("style","opacity:0;")}eU=true;setTimeout(function(){fZ.setAttribute("style","opacity:.5;")},10);var gH=cE(aZ),gF=fi+"?visit_id="+gH+"&page="+h();bS(gF);if(cF.roistat.leadHunter.onAfterAppear){bR("LeadHunter: process user defined onAfterAppear");cF.roistat.leadHunter.onAfterAppear(gH,fZ,fJ,gy);if(e7){fR()}}};var f3=function fH(){e5=cC();eO();bR("LeadHunter: form initialized")};var gr=function fr(){bR("LeadHunter: tuning appearance for page");if(!cB(aW.get(fn))||(aW.get(bA)&&!aW.get(aB))){bR("LeadHunter: disabled on page");gs.leave.isShowEnabled=false;clearTimeout(gs.timeoutId);if(ej()){d5=false;eg()}if(ew(e3)){e3.className=fj}}else{bR("LeadHunter: enabled on page");if(!cq&&!fp()){bR("ShowLimit: Beta Test off, bindShowOnTimeout usually");gs.leave.isShowEnabled=true;fq()}if(cq){bR("ShowLimit: bindShowOnTimeout by caught or max show limit");if(!fp()){bR("ShowLimit: bindShowOnTimeout allowed");gs.leave.isShowEnabled=true;fq()}}if(ew(e3)){e3.className=gs.pulsator.previousClass}}};var fb=function fU(){bR("LeadHunter: processing single page application state change");e5=cC();gr()};var f8=function fy(){c9(fb);var gG=function(){var gM=cO.querySelector("html"),gI=600,gL=300,gO=cF.innerWidth,gH=getComputedStyle(gM).zoom,gK={};var gJ=function(){var gP=gM.style.cssText.split(";").find(function(gQ){return gQ.includes("--zoomLevel")});if(gP!==dW){gP=gP.split(":");if(gP.length>1){gP=parseFloat(gP[1])}else{return dW}}return gP};var gN=gJ();if(gN!==dW){gH=gN}if(gO<gI&&gO>=gL){gK={isMobileMarkup:true,isMobileMarkupXs:false,zoomValue:gH};f9.contentWindow.postMessage({sizeSettings:gK,message:f1,windowWidth:cF.innerWidth||0},ff);return}if(gO<gL){gK={isMobileMarkup:false,isMobileMarkupXs:true,zoomValue:gH};f9.contentWindow.postMessage({sizeSettings:gK,message:f1,windowWidth:cF.innerWidth||0},ff);return}gK={isMobileMarkup:false,isMobileMarkupXs:false,zoomValue:gH};f9.contentWindow.postMessage({sizeSettings:gK,message:f1,windowWidth:cF.innerWidth||0},ff)};cF.roistatLeadHunterUpdate=gG;cx(cF,"load",function(){gG()});cx(cF,"resize",function(){gG()});cx(cF,"message",function gF(gL){var gQ=typeof gL.data==="string"?gL.data:gL.data.message;if(gQ===f2){gi=gL.data.leadHunterId;fc=gL.data.leadHunterMaxShownCount;var gP=aW.getObject(bj)!==null;if(gP){e4=gL.data.leadHunterAutoShowTime;gp=gL.data.leadHunterMinTime;fm=gL.data.leadHunterPulsatorSettings;aW.set(fS,gp);aW.set(fe,e4);if(fm){var gO=Number(fm.isEnabled);bR("Leadhunter: set pulsator setting "+gO);aW.set(fP,gO);gu(fm)}}bR("ShowLimit: Get lhScriptId: "+gL.data.leadHunterId+" and lhScriptMaxShownCount: "+gL.data.leadHunterMaxShownCount+" from lh widget");
fO()}if(gQ===eX){fG()}if(gQ===f1){const gK=typeof gL.data==="object"&&gL.data.calibratingSize!==dW?gL.data.calibratingSize:true;f9.setAttribute("style","width: "+gL.data.width+"px !important; height: "+gL.data.height+"px !important;");if(gz&&!gK){f9.contentWindow.postMessage({message:f1,windowWidth:cF.innerWidth||0,calibratingSize:true},ff)}gj(gL)}if(gQ===gh){var gJ=gL.data.caughtLeadData;if(cF.roistat.leadHunter.onBeforeSubmit){bR("LeadHunter: process user defined onBeforeSubmit");var gH=cF.roistat.leadHunter.onBeforeSubmit(gJ);if(gH){gJ=gH}}if(!cq){bR("ShowLimit: Beta Test off, catch before submit message, setCookieLeadHunterCaught will run");eL()}else{bR("ShowLimit: catch before submit message, setLeadHunterScriptCaught will run");fQ()}var gI=aW.getObject(bJ);var gN=gI!==null;var gM=gN&&gJ.isNeedCallback===null&&!U(gI);if(gM){gJ.isNeedCallback=0}f9.contentWindow.postMessage({caughtLead:gJ,message:fM},ff)}if(gQ===go){if(cF.roistat.leadHunter.onAfterSubmit){bR("LeadHunter: process user defined onAfterSubmit");cF.roistat.leadHunter.onAfterSubmit({name:gL.data.name,phone:gL.data.phone})}}})};function fR(){var gF={apiData:cF.roistat.leadHunter.form,message:f5};f9.contentWindow.postMessage(gF,ff)}function fO(){if(!f4()){bR("checkLeadHunterLaunch false");return}var gF=aW.getObject(bj)!==null;if(gF){eM()}if(!fh()){bR("initSettings false");return}bR("LeadHunter: activated");a5(function(){f3();gr();f8();if(typeof cF.onRoistatLeadHunterInited==="function"){cF.onRoistatLeadHunterInited()}})}function ga(){return(cF.innerHeight?cF.innerHeight:cO.documentElement.clientHeight==0?cO.body.clientHeight:cO.documentElement.clientHeight)}function gE(){return(cF.innerWidth?cF.innerWidth:cO.documentElement.clientWidth==0?cO.body.clientWidth:cO.documentElement.clientWidth)}function fV(gI,gF){gI=gI||event;e6=gI.clientY;var gG=e6/ga(),gK=e0>0&&e0>gG,gH=gG<e2,gJ=(cC()-e5)>gp*1000;if(gK&&gH&&!eU&&gJ&&gs.leave.isShowEnabled&&!fp()){bR("LeadHunter: show modal with because move up ("+e0+" -> "+gG+") and in modal zone and show on leave enabled");eI("exit");eK(gF);fz(gI)}if(gG<eR){e0=gG}}function gj(gF){if(eJ){fY()}else{gF=gF||event;fz(gF)}}function fz(gK){var gG=gK.type==="message"?gK.data.width:fJ.offsetWidth;var gH=gE();var gF=gK.clientX-Math.round(gG/2)||fJ.offsetLeft;gF=Math.max(20,Math.min(gF,gH-gG-20));var gL=gF+gG>gH-40;if(gL){var gI=(gF+gG-20)-(gH-40);gF=gF-gI}var gJ=gH-40>gG?"":"width: "+(gG-40)+"px;";if(ew(fJ)){fJ.setAttribute("style","left: "+gF+"px; top: 0px; "+gJ)}}function eL(){if(cq){return}cF.roistatSetCookie(eS,1,N)}function fG(){if(!cq){bR("ShowLimit: Beta Test off, setCookieLeadHunterCaught");eL()}if(ew(fZ)){fZ.setAttribute("style","opacity:0")}if(ew(fJ)){fJ.style.top="-"+fJ.offsetHeight*2+"px";setTimeout(function(){fJ.className=fZ.className=fj},500)}}function fl(){var gT=cO.getElementById("roistat-lh-phone-input"),gH=cO.getElementById("roistat-lh-name-input"),gJ,gR;gJ=gT===null?"":gT.value;gR=gH===null?"":gH.value;var gO={name:gR,phone:gJ,isNeedCallback:null,callbackPhone:null,fields:{}};if(cF.roistat.leadHunter.onBeforeSubmit){bR("LeadHunter: process user defined onBeforeSubmit");var gK=cF.roistat.leadHunter.onBeforeSubmit(gO);if(gK){gO=gK}}var gQ=gO.phone.length<1;var gS=gO.phone.indexOf("_")===-1;var gM=!gQ&&gS;var gP=gO.name.length<1;var gG=!gP||!cF.roistat.leadHunter.form.isNameRequired;if(!gM&&ew(gT)){gT.setAttribute("style","border: 2px solid #E0571A;");return}if(!gG&&ew(gH)){gH.setAttribute("style","border: 2px solid #E0571A;");return}var gF=eC+"?v="+c0+"&lead-hunt-input="+encodeURIComponent(gO.phone)+"&lead-name="+encodeURIComponent(gO.name)+"&visit="+aA();if(gO.isNeedCallback!==null&&gO.isNeedCallback!==dW){gF=gF+"&is_need_callback="+(gO.isNeedCallback>0?1:0)}if(gO.callbackPhone){gF=gF+"&callback_phone="+gO.callbackPhone}if(cF.roistat.leadHunter.additionalNotifyEmail!==null){gF=gF+"&additional_email="+encodeURIComponent(cF.roistat.leadHunter.additionalNotifyEmail)}var gI=0;if(gO.fields&&typeof gO.fields==="object"){for(var gL in gO.fields){if(gO.fields.hasOwnProperty(gL)){++gI}}}if(gI>0){gF=gF+"&fields="+gn(JSON.stringify(gO.fields))}gF=gF+"&t="+cC();var gN=cO.createElement("img");gN.src=gF;if(ew(gT)){gT.setAttribute("style","")}if(!cq){bR("ShowLimit: Beta Test off, caught LH usually");eL()}else{bR("ShowLimit: caught LH by set setLeadHunterScriptCaught");fQ()}if(!ew(gt)){fG();fg()}else{fo()}if(cF.roistat.leadHunter.onAfterSubmit){bR("LeadHunter: process user defined onAfterSubmit");cF.roistat.leadHunter.onAfterSubmit({name:gR,phone:gJ})}}function fx(gF){if(gF.preventDefault){gF.preventDefault()}else{gF.returnValue=false}if(ew(fE)){fE.style.display==="block"?fE.style.display="none":fE.setAttribute("style","display: block; padding: 0 30px; width:"+fJ.clientWidth+"px;")}gj()}function gD(){if(ew(gw)){gw.disabled===true?gw.disabled=false:gw.disabled=true}if(ew(fu)){fu.style.display==="block"?fu.style.display="none":fu.style.display="block"}}function fg(){cO.onmousemove=null;if(ew(fZ)){fZ.onresize=null}}var fd=function(gL,gO){if(!gL||!gO){bR("LeadHunter: skip phone mask render due to empty input or mask");
return}bR("LeadHunter: render phone mask "+gO+" for input: "+gL.value);if(cF.roistatRenderPhoneMaskMutex){return}cF.roistatRenderPhoneMaskMutex=true;var gI="_",gH="x",gK="х",gJ=gO.toLowerCase().split(gH).join(gI).split(gK).join(gI);var gG=function(gP){if(gL.setSelectionRange){gL.setSelectionRange(gP,gP)}else{if(gL.createTextRange){var gQ=gL.createTextRange();gQ.collapse(true);gQ.moveEnd("character",gP);gQ.moveStart("character",gP);gQ.select()}}};var gM=function(gP){if(!gP){return 0}var gQ=gP.indexOf(gI);if(gQ<0){return gP.length}return gQ};var gN=function(gP){gG(gM(gP))};var gF=function(gY){var gZ=gJ.split("");if(!gY){return gJ}var gP=gY.split("");var g0=[],gX,gU,gW,gT,gR,gQ,gV;for(var gS=0;gS<gZ.length;gS++){gU=gZ[gS];if(gS>=gP.length){g0.push(gU);continue}gR=((gS+1)<gZ.length)?gZ[gS+1]:null;gQ=((gS+1)<gP.length)?gP[gS+1]:null;gV=((gS+2)<gP.length)?gP[gS+2]:null;gX=gP[gS];gW=parseInt(gX)>=0;gT=(gU===gI)&&gW;if(!gT){g0.push(gU);continue}if(gQ===gI&&gR!==gI&&gV!==gR){g0.push(gU);continue}g0.push(gX)}return g0.join("")};setTimeout(function(){var gP=gF(gL.value);if(gL.value!==gP){gL.value=gP}gN(gP);cF.roistatRenderPhoneMaskMutex=false},1)};var f7=function(gF,gH,gG){aW.set(c5,bc.encode(gF));aW.set(bD,bc.encode(gH));aW.setObject(cc,gG)};var fN=function(gF){dq=gF;if(f9===dW){return}eA()};var eA=function(){var gF={language:dq,message:f6};f9.contentWindow.postMessage(gF,ff)};var fQ=function(){bR("ShowLimit: Start set roistat_leadHunterScriptsCaught");var gF=aW.getObject(e8);if(!gF){gF={}}bR("ShowLimit: roistat_leadHunterScriptsCaught for lhScriptId set to 1");gF[gi]=1;aW.setObject(e8,gF)};var eD=function(){bR("ShowLimit: Start set roistat_leadHunterScriptsShownCount");var gH=aW.getObject(gB);if(!gH){gH={}}var gI=gH.hasOwnProperty(gi);var gF=aW.get(eS)>0;if(!gI){bR("ShowLimit: roistat_leadHunterScriptsShownCount for lhScriptId initialized");gH[gi]=gF?1:0}var gG=fc>0&&gH[gi]+1>fc;if(gG){bR("ShowLimit: Stored lhScriptId has reached lhScriptMaxShownCount, show counter in storage not rise up, return from function");return}bR("ShowLimit: exist lhScriptId show counter rise up");gH[gi]+=1;aW.setObject(gB,gH);if(gF){aW.remove(eS);dQ(eS,{path:"/"});bR("ShowLimit: cookie roistat_leadHunterCaught handled and deleted")}};var e1=function(){if(fc===0){bR("ShowLimit: show limit off and set to 0");return false}var gG=aW.getObject(gB),gF=aW.get(eS)>0?1:0,gH=gG?gG[gi]:gF,gI=gH+1>fc;bR("ShowLimit: Check isCurrentScriptMaxShownCountReached, show limit on, check for exceeding the limit, is "+gI);return gI};var fX=function(){var gH=aW.getObject(e8),gF=gH?gH[gi]:null,gG=gF===1;bR("ShowLimit: Check isCurrentLeadHunterScriptSubmitted, is "+gG);return gG};var eM=function(){aW.set(bA,eG());aW.set(c5,bc.encode(fT()));aW.set(fn,eV());aW.set(fP,gC())};var fT=function(){var gF=z(cL()+"//"+b4+"/api/site/1.0/"+dt()+"/leadhunter/script/"+aW.get(bA)+"/widget?visit_id="+dk());return'<div class="roistat-lh-popup-wrapper" data-is-iframe="1"><iframe id="roistat-lh-popup-iframe" class="roistat-lh-popup-iframe" src="'+gF+'" frameborder="0"></iframe></div>'};var eG=function(){var gG=aW.getObject(bj);if(gG===null){return}aW.set(aB,"");var gK=Number(aW.get(ck));var gO=Object.keys(gG);var gL=gO.sort()[0];if(!gK){return gL}for(var gJ=0;gJ<gO.length;gJ++){var gP=gG[gO[gJ]];var gM=gP.targetPageList;var gI=cB(gM.join(","));var gH=gM.length===0;var gF=Array.isArray(gP.devicesFilter)&&gP.devicesFilter.length>0?gP.devicesFilter.indexOf(bI())!==-1:true;var gN=(gH||gI)&&gF&&(!gP.timetable.isEnabled||U(gP.timetable));if(gN){gL=gO[gJ];aW.set(aB,gL)}}return gL};var eV=function(){var gF=fK();return gF!==null?gF.targetPageList.join(","):""};var gC=function(){var gF=fK();return gF!==null?Number(gF.isPulsatorEnabled):0};var fK=function(){var gF=aW.get(bA);var gG=aW.getObject(bj);return gG!==null&&gG[gF]!==null?gG[gF]:null};cF.roistatLeadHunterShow=fs;cF.roistatRenderPhoneMask=fd;cF.roistat.leadHunter.localization.translateToRussian=function(){fN(a1)};cF.roistat.leadHunter.localization.translateToEnglish=function(){fN(dg)};am(fO)},multiwidget:function(){var fl="roistat-multiwidget-hidden",fw="roistat-multiwidget-pulsator-phone",fu="roistat-multiwidget-pulsator-popup-item-lead-hunter",eQ="roistat-multiwidget-pulsator-fill",fz="roistat-multiwidget-pulsator-fill-svg",fb="roistat-multiwidget-pulsator-img-icon",eP="roistat-multiwidget-pulsator-popup-item-chat",eC="roistat-multiwidget-pulsator-popup-item-facebook",eI="roistat-multiwidget-pulsator-popup-item-vk",fa="roistat-multiwidget-pulsator-popup-item-telegram",eY="roistat-multiwidget-pulsator-popup-item-whats-app",eW="roistat-multiwidget-pulsator-popup-item-viber",fg="roistat-multiwidget-pulsator-overlay",ff="roistat-multiwidget-pulsator-items-popup-holder",e4="roistat-multiwidget-pulsator-popup-header-wrapper",e9="iframe_chat_successfully_loaded",eJ="roistat-multiwidget-pulsator-popup-tail",e6="roistat-online-chat-popup-wrapper",fy="roistat-online-chat-popup-wrapper-hidden",fs="roistat-multiwidget-pulsator-holder-hidden";var eO,fe,eZ,eS,eU,fv,ez,eF,fx,e5,eL,eB,eM,eD,fo,eE;
var eV=false;var e3=true;var ft={topLeft:{bottom:"unset",right:"unset",top:c7()?0:"20px",left:c7()?0:"35px",transformOrigin:"top left"},topRight:{bottom:"unset",right:c7()?0:"35px",top:c7()?0:"20px",left:"unset",transformOrigin:"top right"},bottomRight:{bottom:aL()?0:"20px",right:aL()?"6px":"35px",top:"unset",left:"unset",transformOrigin:"bottom right"},bottomLeft:{bottom:c7()?0:"20px",right:"unset",top:"unset",left:c7()?0:"35px",transformOrigin:"bottom left"}};var eH={topLeft:{bottom:"unset",right:"unset",top:"110px",left:"0"},topRight:{bottom:"unset",right:"0",top:"110px",left:"unset"},bottomRight:{bottom:"110px",right:"0",top:"unset",left:"unset"},bottomLeft:{bottom:"110px",right:"unset",top:"unset",left:"0"}};var eX={topLeft:{"border-top-color":"white","border-right-color":"transparent","border-bottom-color":"transparent","border-left-color":"white",bottom:"unset",right:"unset",top:"-14px",left:"40px"},topRight:{"border-top-color":"white","border-right-color":"transparent","border-bottom-color":"transparent","border-left-color":"white",bottom:"unset",right:"34px",top:"-14px",left:"unset"},bottomRight:{"border-top-color":"transparent","border-right-color":"white","border-bottom-color":"white","border-left-color":"transparent",bottom:"-14px",right:"40px",top:"unset",left:"unset"},bottomLeft:{"border-top-color":"transparent","border-right-color":"white","border-bottom-color":"white","border-left-color":"transparent",bottom:"-14px",right:"unset",top:"unset",left:"34px"}};function fk(fB){bR("Multiwidget: "+fB)}function e8(){fe=en(eO,fw);eZ=en(eO,ff);eU=en(eO,e4);eS=en(eO,fg);e5=en(eZ,fu);fv=en(eO,eJ);eL=en(eZ,eP);eB=en(eZ,eI);eM=en(eZ,eC);eD=en(eZ,fa);fo=en(eZ,eY);eE=en(eZ,eW);ez=en(fe,eQ);eF=fe.getElementsByClassName(fz);fx=en(fe,fb)}function fn(){if(aL()&&ew(eS)&&ew(eZ)){if(eZ.classList.contains(fl)){eG(eS)}else{fi(eS)}}}function eR(){if(ew(eZ)){eZ.classList.toggle(fl)}fn()}function fr(fB){if(ew(fB)){fB.classList.toggle("opened")}}function fA(){fk("add pulsator events");ev(fe,"click",function(){if(!e1()){eR()}fr(fe)});ev(eU,"click",function(){if(!e1()){eR()}fr(fe);fn()});ev(eS,"click",function(){if(!e1()){eR()}fr(fe);fn()});ev(e5,"click",function(){fk("opening leadhunter via multiwidget");cF.roistatLeadHunterShow();eR();ec(fe,"opened",false)});ev(eL,"click",function(){fk("opening online chat via multiwidget");cF.roistatOnlineChatShow();eR()});ev(eB,"click",function(){cF.open(aW.get(x),"_blank")});ev(eM,"click",function(){cF.open(aW.get(cS),"_blank")});ev(eD,"click",function(){cF.open(aW.get(dL),"_blank")});ev(fo,"click",function(){cF.open(aW.get(aY),"_blank")});ev(eE,"click",function(){cF.open(aW.get(b3),"_blank")})}function e1(){var fB=en(cO,e6);return ew(fB)&&!fB.classList.contains(fy)}function e2(){return ew(ff)&&!ff.classList.contains(fl)}function eG(fB){if(ew(fB)){fB.classList.add(fl)}}function fi(fB){if(ew(fB)){fB.classList.remove(fl)}}function fc(){eG(e5)}function e0(){fk("hiding disabled multiwidget options");var fB=Number(aW.get(ck)),fC=Number(aW.get(o)),fE=Number(aW.get(X)),fH=Number(aW.get(bb)),fD=Number(aW.get(cj)),fG=Number(aW.get(a));var fF=0;if(!fB||!eb||!d5){fk("hiding leadhunter option");fc()}if(!ef()||!eV){fk("hiding online chat option");eG(eL)}if(ef()){fF++}if(!fC){fk("hiding vk-messenger option");eG(eB)}else{fF++}if(!fE){fk("hiding fb-messenger option");eG(eM)}else{fF++}if(!fH){fk("hiding telegram-messenger option");eG(eD)}else{fF++}if(!fD){fk("hiding whatsApp-messenger option");eG(fo)}else{fF++}if(!fG){fk("hiding Viber-messenger option");eG(eE)}else{fF++}e3=fF>1;if(aL()&&e3){fk("hiding popup header");fi(eU)}}function eA(){var fC=aW.getObject(J);fk("start filling pulsator");if(fC){if(ew(ez)){ez.setAttribute("style","background: "+fC.button_color+";")}if(ew(fx)){fx.setAttribute("style","fill: "+fC.icon_color+";")}if(HTMLCollection.prototype.isPrototypeOf(eF)){for(var fB=0;fB<eF.length;fB++){eF[fB].setAttribute("style","fill: "+fC.button_color+";")}}}}function fh(){var fB=aW.getObject(J);return fB!==null&&typeof fB.position==="string"&&fB.position!==""?fB.position:"bottomRight"}function fd(){if(ew(eO)){var fB=fh();eO.setAttribute("style","top: "+ft[fB].top+";right:"+ft[fB].right+";bottom:"+ft[fB].bottom+";left:"+ft[fB].left+";");eO.style.transformOrigin=ft[fB].transformOrigin;eO.style.transform=es()}}function eT(){if(ew(fe)){var fB=fh();var fC="transform: "+ea()+";";var fD=fB==="topLeft"||fB==="bottomLeft"?"margin-right":"margin-left";fe.setAttribute("style",fD+": auto;"+fC)}}function fj(){if(ew(eZ)){var fB=fh();var fC=aL()?"0":eH[fB].bottom;var fD=aL()?"unset":eH[fB].top;eZ.setAttribute("style","top: "+fD+";right:"+eH[fB].right+";bottom:"+fC+";left:"+eH[fB].left+";")}}function eK(){if(ew(fv)){var fB=fh();fv.setAttribute("style","top: "+eX[fB].top+";right:"+eX[fB].right+";bottom:"+eX[fB].bottom+";left:"+eX[fB].left+";border-top-color:"+eX[fB]["border-top-color"]+";border-right-color:"+eX[fB]["border-right-color"]+";border-bottom-color:"+eX[fB]["border-bottom-color"]+";border-left-color:"+eX[fB]["border-left-color"]+";")
}}function fp(){fd();eT();if(!aL()){fj();eK()}}function eN(){if(cO.body===null){return}var fC=bc.decode(aW.get(g));if(fC){fk("appending multiwidget pulsator");var fB=cO.createElement("div");fB.innerHTML=fC;eO=fB.childNodes.item(0);if(!cF.roistat.multiwidget.isVisible){fk("Hide widget");eO.className=eO.className+" "+fs}cO.body.appendChild(eO);e8();e0();eA();fp();fA();if(!b){eO.classList.add("old")}}}function e7(){var fH=aW.getObject(cV);if(!fH){var fJ=parseInt(aW.get(bQ));fJ=!isNaN(fJ)?Boolean(fJ):roistat.multiwidget.isEnabled;var fC=Boolean(parseInt(aW.get(o)))||roistat.multiwidget.vk.isEnabled;var fL=aW.get(x);fL=fL!=="null"?fL:roistat.multiwidget.vk.link;var fG=Boolean(parseInt(aW.get(X)))||roistat.multiwidget.fb.isEnabled;var fK=aW.get(cS);fK=fK!=="null"?fK:roistat.multiwidget.fb.link;var fD=Boolean(parseInt(aW.get(bb)))||roistat.multiwidget.telegram.isEnabled;var fM=aW.get(dL);fM=fM!=="null"?fM:roistat.multiwidget.telegram.link;var fB=Boolean(parseInt(aW.get(cj)))||roistat.multiwidget.whatsApp.isEnabled;var fF=aW.get(aY);fF=fF!=="null"?fF:roistat.multiwidget.whatsApp.link;var fI=Boolean(parseInt(aW.get(a)))||roistat.multiwidget.viber.isEnabled;var fE=aW.get(b3);fE=fE!=="null"?fE:roistat.multiwidget.viber.link;fH={is_enabled:fJ,vk:{is_enabled:fC,link:fL},fb:{is_enabled:fG,link:fK},telegram:{is_enabled:fD,link:fM},whats_app:{is_enabled:fB,link:fF},viber:{is_enabled:fI,link:fE}}}dT(fH)}function fm(){cx(cF,"message",function fC(fF){var fE=typeof fF.data==="string"?fF.data:fF.data.message;if(fE===e9){eV=true;fi(eL)}});function fD(){if(ew(eO)){eO.style.transform=es();fj();eK();if(!aL()){eG(eS);eG(eU);fi(fv)}else{fn();eG(fv);if(e3){fi(eU)}}}}cx(cF,"resize",fD);if(ek){cx(ex,"resize",fD)}function fB(){if(ew(fe)){fe.classList.toggle("opened")}}cF.roistatToggleMultiwidgetState=fB}function fq(){e7();bT();fm();fk("activated");a5(function(){eN();if(typeof cF.onRoistatMultiwidgetInited==="function"){cF.onRoistatMultiwidgetInited()}})}eg=fc;am(fq)},onlineChat:function(){var fW="iframe-module-created",eP="iframe_chat_successfully_loaded",fZ="iframe_resize",eD="iframe-online-chat-opened",eL="iframe-online-chat-invite-message",gm="iframe-delivered-messages",f0="roistat-online-chat-init",fU="roistat-online-chat-init-with-text",fB="roistat-online-chat-open",fP="roistat-online-chat-close",gu="roistat-online-chat-reload",ge="roistat-online-chat-update-custom-params",e9="roistat-online-chat-lead_successfully_sent",f6="roistat-online-chat-translate-form",fk="roistat-online-chat-send-lead",gh="roistat_chat_id",gt="roistat_chat_session",fX="roistat_chat_custom_position",fF="roistat-online-chat-page-resized",eZ=10*365*24*60*60,e3,eQ,gi,eM,eT,gf,fM,fe,fK;var fA="roistat-online-chat-popup-iframe",fh="roistat-online-chat-hidden",gj="roistat-online-chat-holder",gd="roistat-online-chat-popup-wrapper",ga="roistat-multiwidget-pulsator-phone",fI="roistat-multiwidget-pulsator-items-popup-holder",e2="roistat-multiwidget-pulsator-overlay",fD="roistat-multiwidget-hidden",eE="roistat-multiwidget-pulsator-popup-item-chat",fJ="roistat-online-chat-popup-wrapper-hidden",ff="roistat-online-chat-popup-mouse-track",fz="roistat-online-chat-popup-mouse-track-active",fj="roistat-online-chat-pulsator-fill",gg="roistat-online-chat-pulsator-img",fr="roistat-online-chat-pulsator-phone",gx="roistat-online-chat-pulsator-circle",eK="."+gx,f9="roistat-online-chat-pulsator-notification-circle",gv="."+f9,e7="roistat-online-chat-pulsator-fill-svg",fH="roistat-online-chat-popup-spacer",eY=".roistat-multiwidget-pulsator-items-popup",eU=".roistat-online-chat-pulsator-phone",fw=".roistat-online-chat-popup-wrapper",e1="roistat-online-chat-full-screen";var fb=99;var gc="roistat-online-chat-pulsator-notification-limit";var fg=false,gw=false,eR=false,fi=false,gz=false,fN=0,eI=0;var f1={};var fE=".roistat-online-chat-holder";var fq="roistat-online-chat-holder-hidden";if(ej()){fE=".roistat-multiwidget-pulsator-holder";fq="roistat-multiwidget-pulsator-holder-hidden";gx="roistat-multiwidget-pulsator-circle";eK="."+gx;f9="roistat-multiwidget-pulsator-notification-circle";gv="."+f9;gc="roistat-multiwidget-pulsator-notification-limit"}var gn;var gs={topLeft:{bottom:"unset",right:"unset",top:aL()?"10px":"20px",left:aL()?"24px":"35px"},topRight:{bottom:"unset",right:aL()?"24px":"35px",top:aL()?"10px":"20px",left:"unset"},bottomRight:{bottom:aL()?"10px":"20px",right:aL()?"24px":"35px",top:"unset",left:"unset"},bottomLeft:{bottom:aL()?"10px":"20px",right:"unset",top:"unset",left:aL()?"24px":"35px"}};var gC=function(){return{topLeft:{top:aL()?"unset":"130px",right:"unset",bottom:aL()?"0px":"unset",left:aL()?0:"65px"},topRight:{top:aL()?"unset":"130px",right:aL()?0:"65px",bottom:aL()?"0px":"unset",left:"unset"},bottomRight:{top:"unset",right:aL()?0:"65px",bottom:aL()?0:"130px",left:"unset"},bottomLeft:{top:"unset",right:"unset",bottom:aL()?0:"130px",left:aL()?0:"65px"}}};var gk={topLeft:{top:"unset",bottom:"0",height:"20px"},topRight:{top:"unset",bottom:"0",height:"20px"},bottomLeft:{top:"0",bottom:"unset",height:"50px"},bottomRight:{top:"0",bottom:"unset",height:"50px"}};
var fT=function(gD){bR("onlineChat: "+gD)};var e8=function(){function gD(){return Math.random().toString(36).substr(2,8)}return gD()+gD()+gD()+gD()};var fG=function(){var gD=cO.querySelector('meta[name="viewport"]');if(ew(gD)){return gD.getAttribute("content")}return null};var eJ=fG();var fO="width=device-width, initial-scale=1.0, minimum-scale=1.0, maximum-scale=1.0, user-scalable=no";var eS=function(){var gD=cE(gt);if(!gD){gD=aW.get(gt)}if(!gD){gD=e8();var gE={expires:eZ,path:"/"};if(N.domain){gE.domain=N.domain}aW.save(gt,gD,gE)}return gD};var eH=function(){var gD={message:fW,detail:{version:c0,language:a6,projectKey:dt(),visitId:aA(),firstVisit:bV(),chatId:cE(gh),moduleTargetOrigin:cF.location.origin,referrer:cF.location.href,params:eq,sessionUniqueKey:eS(),isOpened:gl(),isMobile:aL()}};gf.contentWindow.postMessage(gD,gf.src)};var e4=function(){var gD={message:eD,detail:{isOpened:gl(),isMobile:aL()}};gf.contentWindow.postMessage(gD,gf.src)};var e6=function(){var gD={message:ge,detail:{params:eq,isMobile:aL()}};gf.contentWindow.postMessage(gD,gf.src)};var eA=function(){var gD={language:a6,message:f6};gf.contentWindow.postMessage(gD,gf.src)};var fa=function(gE){var gD={message:fU,detail:{message:gE,isMobile:aL()}};gf.contentWindow.postMessage(gD,gf.src)};var gB=function(gD){var gE={message:fB,detail:{chatId:gD,isMobile:aL()}};gf.contentWindow.postMessage(gE,gf.src)};var eX=function(){cF.focus();if(typeof cF.roistatOnlineChatToggle==="function"){cF.roistatOnlineChatToggle()}if(typeof cF.roistatToggleMultiwidgetState==="function"){cF.roistatToggleMultiwidgetState()}eN(gn)};var e0=function(){var gD={message:fF,detail:{isMobile:aL()}};gf.contentWindow.postMessage(gD,gf.src)};var eV=function(gD){var gE={message:fZ,isFullScreen:gz,iframeStyles:gD};gf.contentWindow.postMessage(gE,gf.src)};var f8=function(gD){var gE={expires:eZ,path:"/"};if(N.domain){gE.domain=N.domain}dQ(gh,{path:"/"});a0(gh,gD,gE)};var f7=function(){cx(cF,"message",function gD(gG){var gF=typeof gG.data==="string"?gG.data:gG.data.message;var gE=typeof gG.data!=="string"?gG.data.detail:{};fT("event: "+gF+" "+JSON.stringify(gE));switch(gF){case eP:gb();cF.setRoistatOnlineChatCustomParams=fn;fn(eq);if(typeof cF.onRoistatOnlineChatInited==="function"){cF.onRoistatOnlineChatInited()}break;case fW:gw=true;eH();if(eR){eR=false;if(ew(gi)){gi.classList.remove(fJ);e4()}}break;case f0:fT("saving chat id = "+gE.chatId);f8(gE.chatId);break;case fU:fT("saving chat with text id = "+gE.chatId);if(cF.onRoistatChatInit!==dW&&typeof cF.onRoistatChatInit==="function"){cF.onRoistatChatInit(gE.chatId)}f8(gE.chatId);cF.roistatOnlineChatShow();break;case fB:fT("saving chat id by open chat = "+gE.chatId);f8(gE.chatId);cF.roistatOnlineChatShow();break;case fP:eX();break;case eL:fT("rendering invite message");f2(gE.message);break;case gm:fT("get delivered messages");gA(gE.messages);break;case fZ:gz=gG.data.isFullScreen;if(aL()){eV({});return}Object.assign(f1,{width:gf.getBoundingClientRect().width,height:gf.getBoundingClientRect().height,borderRadius:cF.getComputedStyle(gf).borderRadius});gf.classList.toggle(e1,gz);gf.style.transition="unset";if(gz){Object.assign(f1,{top:gi.style.top,right:gi.style.right,bottom:gi.style.bottom,left:gi.style.left});gi.style.top=0;gi.style.right=0;gi.style.bottom=0;gi.style.left=0;gi.style.transition="unset"}else{gi.style.top=f1.top;gi.style.right=f1.right;gi.style.bottom=f1.bottom;gi.style.left=f1.left;f1={};setTimeout(function(){gf.style.transition="height 0.5s ease-in";gi.style.transition="all 0.3s"},30)}eV(f1);break;case fk:fT("sending lead");e5(gE.leadData)}})};var fm=function(){var gE=cF.roistat.onlineChat.notificationsCustomHolderSelector;var gD=gE!==null;return cO.querySelector(gD?gE:fE)};var e5=function(gD){cF.roistatGoal.reach(gD,function(){gf.contentWindow.postMessage(e9,gf.src)})};var f2=function(gK){if(gl()){return}var gF="<div class='roistat-online-chat-message'><img src='"+gK.operator.avatar+"' class='roistat-online-chat-message-avatar'></img><div class='roistat-online-chat-message-content'><div class='roistat-online-chat-message-name'><span class='roistat-online-chat-message-name-text'>"+gK.operator.name+"</span><div class='roistat-online-chat-message-name-online-status'></div></div><div class='roistat-online-chat-message-text'>"+gK.text+"</div></div><div class='roistat-online-chat-message-close'>х</div></div>";var gJ=cO.createElement("div");gJ.innerHTML=gF;var gI=fm();if(ew(gI)){var gL=fL()?"beforeend":"afterbegin";gI.insertAdjacentHTML(gL,gF);var gH=gI.getElementsByClassName("roistat-online-chat-message-close");var gD=gI.getElementsByClassName("roistat-online-chat-message");var gG=gH[fL()?gH.length-1:0];var gE=gD[fL()?gH.length-1:0]}setTimeout(function(){gE.remove()},15000);ev(gE,"click",function(gM){gM.stopPropagation();if(!gl()){f4()}go()});ev(gG,"click",function(gM){gM.stopPropagation();gE.remove()})};var gA=function(gF){var gJ=fm();if(ew(gJ)){var gK=gJ.querySelector(eK);var gE=gJ.querySelector(gv);var gI=gF>fb;var gH=gI?fb+"+":gF;
if(gE&&!gF){gE.remove();return}if(gE){gE.textContent=gH;gE.classList.toggle(gc,gI);return}if(gF){var gD=gI?gc:"";var gG='<div class="'+f9+gD+'">'+gH+"</div>";gK.insertAdjacentHTML("beforebegin",gG)}}};var go=function(){var gE=fm();if(ew(gE)){var gD=gE.getElementsByClassName("roistat-online-chat-message");while(gD.length>0){gD[0].remove()}}};var gr=function(){gf=cO.getElementById(fA);if(ew(gf)){ev(gf,"load",function(){fy()})}ev(cO,"click",function(gI){var gH=cF.roistat.onlineChat.customTriggerSelector;if(ej()){var gJ=en(cO,ga);var gG=en(cO,eE);var gF=gl()&&gI.target!==gG&&!gG.contains(gI.target);if(gF){ec(gJ,"opened",false)}}else{var gD=en(cO,gj);var gE=gl()&&gI.target!==gD&&!gD.contains(gI.target);if(gE){ec(gD,"opened",false)}}if(gl()&&(gI.target.closest(eY)===null&&gI.target.closest(fw)===null&&gI.target.closest(eU)===null&&(gH?gI.target.closest(gH)===null:true))){f4()}})};var eB=function(gF){var gE=gi.getBoundingClientRect().x;var gD=gi.getBoundingClientRect().y;fi=true;eG();fN=gF.pageX-gE;if(fL()){eI=gF.pageY+gD}else{eI=gF.pageY-gD}};var fp=function(){fi=false;f3();fc()};var eG=function(){if(ew(eQ)){eQ.classList.add(fz)}};var f3=function(){if(ew(eQ)){eQ.classList.remove(fz)}};var fQ=function(gL){if(fi&&ew(gi)){var gD=gi.getBoundingClientRect();var gK=gD.width;var gJ=400;var gE=50;var gO=0;var gG=cF.innerHeight-gJ;var gM=gL.pageX-fN;var gI=gE;var gF=cF.innerWidth-gE-gK;if(fL()){gO=cF.innerHeight-(gL.pageY+gD.y)-20}else{gO=gL.pageY-eI}var gN=gq();var gH=gN==="bottomLeft"||gN==="bottomRight"?"top":"bottom";if(gM>=gI&&gM<=gF){gi.style.left=gM+"px";if(!gy()){gi.style.right="unset"}}if(gO>=50&&gO<=gG){gi.style[gH]=gO+"px"}}};var fc=function(){var gD={position:gq(),top:gi.style.top,left:gi.style.left,bottom:gi.style.bottom,right:gi.style.right};aW.setObject(fX,gD)};var gq=function(){var gD=aW.getObject(J);var gE=gD!==null&&typeof gD.position==="string"&&gD.position!=="";return gE?gD.position:"bottomRight"};var fL=function(){var gD=gq();return gD==="topLeft"||gD==="topRight"};var gy=function(){var gD=gq();return gD==="topLeft"||gD==="bottomLeft"};var fd=function(gE){var gD=Math.max(gE*ey(),gE)+"px";eM.style.height=gD;eM.style.marginBottom="-"+gE+"px"};var eO=function(){var gH=gq();var gK=cF.roistat.onlineChat.customPosition;var gJ=gC();var gN=gK&&gK.top!==null?gK.top:gJ[gH].top;var gF=gK&&gK.right!==null?gK.right:gJ[gH].right;var gD=gK&&gK.bottom!==null?gK.bottom:gJ[gH].bottom;var gG=gK&&gK.left!==null?gK.left:gJ[gH].left;gi=en(e3,gd);if(ew(gi)){gi.classList.add(fJ);gi.setAttribute("style","visibility: hidden;top: "+gN+";right:"+gF+";bottom:"+gD+";left:"+gG+";");eM=en(e3,fH);if(ew(eM)){var gL=parseInt(gN==="unset"?gD:gN);fd(gL);var gM=function(){if(aL()){gi.style.height=cF.visualViewport.height+"px"}else{gi.style.height="unset"}};gM();cF.addEventListener("resize",function gE(){fd(gL);gM();e0()});if(ek){ex.addEventListener("resize",function gI(){fd(gL);gM();e0()})}}}};var gp=function(){var gD=gq();var gE=function(){if(ew(gi)&&!gz){var gH=gC();gi.style.right=gH[gD].right;gi.style.left=gH[gD].left;gi.style.top=gH[gD].top;gi.style.bottom=gH[gD].bottom}};cF.addEventListener("resize",function gG(){gE()});if(ek){ex.addEventListener("resize",function gF(){gE()})}};var fo=function(){if(ew(eQ)){var gD=gq();eQ.setAttribute("style","top: "+gk[gD].top+";bottom:"+gk[gD].bottom+";height:"+gk[gD].height+";")}};var fl=function(){if(ew(gn)){var gD=gq();gn.setAttribute("style","top: "+gs[gD].top+";right:"+gs[gD].right+";bottom:"+gs[gD].bottom+";left:"+gs[gD].left+";")}};var ft=function(){if(cO.body===null){return}fT("iframe appending to page");var gD=bc.decode(aW.get(bf));e3=cO.createElement("div");e3.innerHTML=gD;cO.body.appendChild(e3);eQ=en(cO,ff);eO();gp();gr()};var fv=function(){var gE=aW.getObject(J);fT("start filling pulsator");if(gE){if(ew(fM)){fM.setAttribute("style","background: "+gE.button_color+";")}if(ew(fe)){fe.setAttribute("style","fill: "+gE.icon_color+";")}if(HTMLCollection.prototype.isPrototypeOf(fK)){for(var gD=0;gD<fK.length;gD++){fK[gD].setAttribute("style","fill: "+gE.button_color+";")}}}};var gb=function(){if(cO.body===null){return}var gE=bc.decode(aW.get(m));var gG=!ab()&&cF.roistatOnlineChatOnly;var gF=(gE&&!ej()&&ef())||gG;if(gF){fT("pulsator appending to page");var gD=cO.createElement("div");gD.innerHTML=gE;gn=gD.childNodes.item(0);if(!cF.roistat.multiwidget.isVisible){fT("Hide widget");gn.className=gn.className+" "+fq}fM=en(gn,fj);fe=en(gn,gg);eT=en(gn,fr);fK=cO.getElementsByClassName(e7);cO.body.appendChild(gn);fl();eW();fv()}};var eW=function(){if(ew(gn)){ev(gn,"click",function(){f4();eN(gn)})}};function eN(gD){if(ew(gD)){gD.classList.toggle("opened")}}var gl=function(){return ew(gi)&&!gi.classList.contains(fJ)};function fC(){var gD=cO.querySelector("#roistat-theme-color");if(ew(gD)){gD.remove()}}function eF(){var gD=cO.createElement("meta");if(ew(gD)){gD.setAttribute("name","theme-color");gD.setAttribute("content","#2589FF");gD.setAttribute("id","roistat-theme-color");cO.head.prepend(gD)}}var fV=function(){if(!gl()){fC();
fx();return}var gD=Boolean(cO.querySelector("#roistat-theme-color"));if(dc.Android()||dc.iOS()){fY();if(!gD){eF()}}};var fY=function(){var gD=cO.querySelector('meta[name="viewport"]');if(!ew(gD)){gD=cO.createElement("meta");gD.setAttribute("name","viewport");cO.head.appendChild(gD)}gD.setAttribute("content",fO)};function fx(){var gD=cO.querySelector('meta[name="viewport"]');if(ew(gD)&&eJ!==null){gD.setAttribute("content",eJ);return}if(ew(gD)){gD.remove()}}var f4=function(){setTimeout(function(){fi=false},3000);if(ew(gi)){gi.classList.toggle(fJ);fV()}if(gl()){go()}e4()};var fS=function(){var gD=fm();if(ew(gD)){gD.classList.toggle(fq)}};var fs=function(gD){a6=gD;if(!ew(gf)){return}eA()};var fu=function(gD){if(!ew(gf)){return}fa(gD)};var ez=function(gD){if(!ew(gf)){return}gB(gD)};function f5(gD){if(ew(gD)){gD.classList.add(fD)}}var fy=function(){fg=true;var gD=function(){setTimeout(function(){var gG=null;if(ej()){gG=en(cO,ga)}else{gG=en(cO,gj)}if(gl()){ec(gG,"opened",false)}else{ec(gG,"opened",true);var gE=en(cO,fI);var gF=ew(gE)&&!gE.classList.contains(fD);if(gF){var gH=en(cO,e2);f5(gE);f5(gH)}}f4()},0)};cF.roistatOnlineChatShow=gD;cF.roistatOnlineChatToggle=gD;cF.roistatMultiwidgetShow=fS;fT("chat window initialized")};function fn(gD){d6(gD);e6()}function eC(){var gD=aW.getObject(aX);if(typeof gD!=="object"||gD===null||typeof gD.auto_open_chat!=="object"||!gD.auto_open_chat.is_enabled){return}setTimeout(function(){if(!gw){eR=true;return}if(ew(gi)){gi.classList.remove(fJ);e4()}},gD.auto_open_chat.delay_in_seconds*1000)}function fR(){bT();a5(function(){ft();f7();eC()})}cF.roistat.onlineChat.actions.initWithMessage=fu;cF.roistat.onlineChat.actions.openChat=ez;cF.roistat.onlineChat.localization.translateToRussian=function(){fs(a1)};cF.roistat.onlineChat.localization.translateToEnglish=function(){fs(dg)};cF.roistat.onlineChat.localization.translate=function(gG){var gF=aS[a1].includes(gG),gE=aS[dg].includes(gG),gD=gG;if(gF){gD=a1}if(gE){gD=dg}fs(gD)};am(fR)}};function em(ez){bR("Widgets: "+ez)}function e(ez){return ez!==eu}function d6(eB){var eA=Object.keys(eB);for(var ez=0;ez<eA.length;ez++){eq[eA[ez]]=eB[eA[ez]]}}function ej(){var eH=Number(aW.get(ck)),eA=eH&&eb&&d5,eL=Number(aW.get(bQ)),eD=ef(),eI=Number(aW.get(o)),eE=Number(aW.get(X)),ez=Number(aW.get(bb)),eC=Number(aW.get(cj)),eK=Number(aW.get(a)),eJ=eA||eD||eI||eE||ez||eC||eK,eB=eA&&!eD&&!eI&&!eE&&!ez&&!eC&&!eK,eG=eD&&!eA&&!eI&&!eE&&!ez&&!eC&&!eK,eM=!ab()&&cF.roistatOnlineChatOnly,eF=ab()&&cK();bR("Is online chat only: "+eM);bR("Is rp: "+eM);return eL&&eJ&&!eG&&!eB&&!eM&&!eF}function ef(){var ez=Number(aW.get(bF));if(!ez){bR("OnlineChat: Online chat is disabled");return false}var eA=aW.getObject(aX);if(eA===null){return false}if(!eA.is_available_for_current_user_agent){bR("OnlineChat: Current device group is disabled");return false}if(!eA.pages_filter.is_enabled){bR("OnlineChat: Pages filter is disabled");return true}return cB(eA.pages_filter.pages.join(","))}function eg(){em("Multiwidget disabled. Hide leadhunter pulsator from module")}function d8(ez,eB,eA){aW.set(c5,bc.encode(ez));aW.set(bD,bc.encode(eB));aW.setObject(cc,eA)}function ee(eA,ez){aW.set(g,bc.encode(eA));aW.setObject(J,ez)}function ed(eB,ez,eA){aW.set(m,bc.encode(eB));aW.set(bf,bc.encode(ez));aW.set(bF,eA)}function ei(ez,eB,eA){d8(ez,eB,eA);aW.set(g,bc.encode(eu));aW.set(bf,bc.encode(eu));el=false;er.leadHunter()}function d7(eK,eG,eE){var eB=eK.form_template,eL=eK.pulsator_template,eD=eK.pulsator_settings;if(cK()){ei(eB,eL,eD);return}em("start initing widgets");var eH=eE.pulsator_template,eC=eE.iframe_template,eJ=eG.pulsator_template,ez=eG.pulsator_settings,eF=Number(aW.get(ck)),eA=Number(eE.settings.is_enabled),eI=aW.getObject(bj)!==null;d8(eB,eL,eD);ee(eJ,ez);ed(eH,eC,eA);if(eI){aW.set(c5,bc.encode(d9()))}el=true;if(eF&&!aJ()){em("leadhunter enabled. Start processing");er.leadHunter()}if(ef()){em("online chat enabled. Start processing");er.onlineChat()}if(ej()){em("multiwidget enabled. Start processing");er.multiwidget()}}var d9=function(){var ez=z(cL()+"//"+b4+"/api/site/1.0/"+dt()+"/leadhunter/script/"+aW.get(bA)+"/widget");return'<div class="roistat-lh-popup-wrapper" data-is-iframe="1"><iframe id="roistat-lh-popup-iframe" class="roistat-lh-popup-iframe" src="'+ez+'" frameborder="0"></iframe></div>'};function et(){var eB=aW.get(c5),eM=aW.get(bD),eD=aW.getObject(cc),eG=Number(aW.get(ck)),eH=aW.get(m),eC=aW.get(bf),eA=aW.get(bF),eJ=aW.get(g),ez=aW.getObject(J);cF.roistatLeadhunterForm=ei;cF.roistatMultiwidget=d7;if(!eB||!eM||!eD||!eJ||!ez||!eH){em("requesting data from server");if(ej()||ef()||eG){c8(cL()+"//"+b4+"/api/site/"+d+"/"+dt()+"/multiwidget?domain="+encodeURIComponent(cO.domain))}}else{var eL=bc.decode(eJ);var eI=bc.decode(eC);if((!e(eL)||!e(eI)||cK())&&!aJ()){em("initing LeadHunter form");cF.roistatLeadhunterForm(bc.decode(eB),bc.decode(eM),eD)}else{em("initing multiwidget form");var eE={pulsator_template:eL,pulsator_settings:ez},eF={form_template:bc.decode(eB),pulsator_template:bc.decode(eM),pulsator_settings:eD},eK={iframe_template:eI,pulsator_template:bc.decode(eH),settings:{is_enabled:Number(eA)}};
cF.roistatMultiwidget(eF,eE,eK)}}}function eh(){et();em("form initialized")}function ep(){em("activated");eh()}am(ep);cF.setRoistatOnlineChatCustomParams=d6;cF.roistatSaveLeadHunterTemplates=d8;cF.roistatSaveMultiwidgetTemplate=ee;cF.roistatSaveOnlineChatTemplate=ed})();(function bp(){var ei=function(){return cE(bZ)};var d8=function(){return cE(cQ)};var eg=function(){return aW.get(a2)};var d9=function(){return aW.get(ca)};var em=function(eo){return eo!=null&&eo!==dW&&eo!==""};var el=function(){var eo=[];var ep=cO.getElementsByClassName(dM);if(ep&&ep.length){eo=ep}return eo};var d6=function(){var eo=[];var ep=cO.getElementsByClassName(da);if(ep&&ep.length){eo=ep}return eo};var d5=function(){var eo=[];var ep=cO.getElementsByClassName(bX);if(ep&&ep.length){eo=ep}return eo};var eb=function(){var eo=[];var ep=cO.getElementsByClassName(w);if(ep&&ep.length){eo=ep}return eo};var ee=function(){var eo=[];var ep=cO.getElementsByClassName(a4);if(ep&&ep.length){eo=ep}return eo};var e=function(ev,ew,et){bR("CallTracking: RenderPhone phone = "+ev);var ep=function(eI){return eI.split(/[^0-9]/).join("")};var eE=function(eL,eN){var eQ=null;if(!eL){return eQ}var eI=eN.split(",");if(eI.length<2){eQ=eN}else{var eJ=eL.getAttribute("data-prefix");if(eJ){for(var eM=0;eM<eI.length;eM++){var eO=eI[eM];var eP=ep(eO);if(eP.indexOf("8")===0){eP="7"+eP.substring(1)}var eK=eP.split(eJ)[0]==="";if(eK){eQ=eO;break}}}if(eQ===null){eQ=eI[0]}bR("CallTracking._getPhoneForElement: Prepared phone = "+eQ+" for data-prefix = "+eJ)}return eQ};var eF=function(eN,eL,eK){var eO=eE(eN,eL);var eI=eK||eO;if(!eI||!eN){return}if(eN.tagName.toLowerCase()!=="a"){return}var eM=eN.getAttribute("href");if(bP(eM,"tel:")){var eJ=eK;if(!eJ){eJ=ep(eI);if(eJ.indexOf("8")===0){eJ="7"+eJ.substring(1)}}eN.setAttribute("href","tel:+"+eJ);er(eN,eO)}};var er=function(eJ,eI){if(!eJ.hasAttribute("title")){return}eJ.setAttribute("title",eI)};var ez=function(eK,eJ){var eI=eE(eK,eJ);if(!eI||!eK){return}eK.innerHTML=eI};var eq=/^\D*(\d+)(?:[(|\s])/;var eu=/\((\d+)\)|\s(\d+)\s/;var es=/(\(\d+\)|\s\d+\s)(.+)/;var eA=function(eK,eN){var eJ=eE(eK,eN);var eM=eJ.match(eq);var eL=A(eM)?eM[1]:"";var eO=eJ.match(eu);var eI=(A(eO)?(eO[1]||eO[2]):"").trim();var eP=eJ.match(es);var eQ=(A(eP)?eP[2]:"").trim();return{country:eL,region:eI,number:eQ}};var eG=function(eJ,eI){var eK=el();bR("CallTracking: render phone default classes for "+eK.length+" elements");d4(eK,function(eL){ez(eL,eJ);eF(eL,eJ,eI)});d4(d6(),function(eM){var eL=eA(eM,eJ).country;ez(eM,eL)});d4(d5(),function(eM){var eL=eA(eM,eJ).region;ez(eM,eL)});d4(eb(),function(eL){var eM=eA(eL,eJ).number;ez(eL,eM)});d4(ee(),function(eL){eF(eL,eJ,eI)})};var eC=function(eO,eJ,eK){if(!eK){return}bR("CallTracking: render phone user replacement for "+eK.length+" replacements");for(var eM=0;eM<eK.length;eM++){var eP=eK[eM];if(!eP){continue}var eQ=eP[0];eP=eP.substr(1);var eI=[];if(eQ==="#"){var eN=cO.getElementById(eP);if(eN!==null){eI.push(eN)}}else{eI=cO.getElementsByClassName(eP);eH(eP,eO,eJ)}if(!eI||eI.length<1){continue}bR("CallTracking: render phone for "+eP+", "+eI.length+" elements");for(var eL=0;eL<eI.length;eL++){ez(eI[eL],eO);eF(eI[eL],eO,eJ)}}};var eB=function(eI){for(var eJ=0;eJ<eI.length;eJ++){eC(eI[eJ].phone,eI[eJ].raw_phone,eI[eJ].css_selectors);ey(eI[eJ].phone,eI[eJ].raw_phone,eI[eJ].replaceable_numbers)}};var ey=function(eL,eK,eJ){if(!eJ||eJ.length===0){return}var eI=function(){var eW=eP();var eV=cO.getElementsByTagName("*");var eQ=eV.length;for(var eU=0;eU<eQ;eU++){var eX=eV[eU];eM(eX,eW,eE(eX,eL));var eT=eX.childNodes.length;for(var eR=0;eR<eT;eR++){var eS=eX.childNodes[eR];eO(eS,eW,eE(eS,eL))}}};var eM=function(eU,eT,eQ){if(!eN(eU)){return}var eV=eU.getAttribute("href").replace("tel:","");var eS=eT.length;for(var eR=0;eR<eS;eR++){if(eT[eR].test(eV)){eF(eU,eE(eU,eQ),eK)}}};var eN=function(eR){if(eR.tagName.toLowerCase()!=="a"){return false}var eQ=eR.getAttribute("href");return cJ(eQ)&&eQ.indexOf("tel:")===0};var eP=function(){var eS=[];for(var eQ=0;eQ<eJ.length;eQ++){var eR="[\\s()[\\]{}\\-+.]*";var eT=eJ[eQ].split("").join(eR);eS.push(new RegExp("[+(]?"+eT,"g"))}return eS};var eO=function(eT,eS,eQ){if(eT.nodeType!==Node.TEXT_NODE){return}for(var eR=0;eR<eS.length;eR++){if(eT.textContent&&eS[eR].test(eT.textContent)){eT.textContent=eT.textContent.replace(eS[eR],eQ)}else{if(eT.innerText&&eS[eR].test(eT.innerText)){eT.innerText=eT.innerText.replace(eS[eR],eQ)}}}};eI()};var eH=function(eK,eJ,eI){d4(eD(eK+"-"+dv),function(eM){var eL=eA(eM,eJ).country;ez(eM,eL)});d4(eD(eK+"-"+dC),function(eM){var eL=eA(eM,eJ).region;ez(eM,eL)});d4(eD(eK+"-"+bE),function(eL){var eM=eA(eL,eJ).number;ez(eL,eM)});d4(eD(eK+"-"+db),function(eL){eF(eL,eJ,eI)})};var eD=function(eJ){var eI=[];var eK=cO.getElementsByClassName(eJ);if(eK&&eK.length){eI=eK}return eI};var ex=function ex(){var eJ=d9();if(eJ){eJ=eJ.split("\n");for(var eI=0;eI<eJ.length;eI++){eJ[eI]="."+eJ[eI]}}if(et instanceof Array){eB(et)}else{eG(ev,ew);eC(ev,ew,eJ)}};(function eo(){ex();var eI=[300,5000,15000];
eI.forEach(function(eJ){setTimeout(ex,eJ)})})()};var d7=function(eo){aW.save(ai,eo,N)};var eh=function(){if(cF.roistat.callTracking.phone){var eo={expires:parseInt(cF.roistat.callTracking.sessionTime),path:"/"};if(N.domain){eo.domain=N.domain}a0(bZ,cF.roistat.callTracking.phone,eo);a0(cQ,cF.roistat.callTracking.rawPhone,eo);d7(1);aW.save(ca,cF.roistat.callTracking.replacementClasses,N);aW.save(a2,cF.roistat.callTracking.phoneScriptsJson,N)}};var ef=function(eq,eu,es,er,ep){bR("CallTracking: reuse phone "+eq+" for time "+eu+" and replacements "+es);var eo='script[data-roistat-script-id="'+b5+'"]';cO.querySelectorAll(eo).forEach(function(ex,ew){if(ew===0){return}ex.remove()});bR("CallTracking: all old scripts removed");if(!em(eq)){bR("CallTracking: new phone is invalid");roistat.callTracking.phone=null;cm();return}roistat.callTracking.enabled=1;roistat.callTracking.phone=eq;roistat.callTracking.sessionTime=eu;roistat.callTracking.replacementClasses=es;roistat.callTracking.phoneScriptsJson=er;roistat.callTracking.rawPhone=ep;cm();eh();var ev={expires:parseInt(eu),path:"/"};if(N.domain){ev.domain=N.domain}a0(bZ,eq,ev);a0(cQ,ep,ev);aW.save(a2,er,N);aW.save(ca,es,N);var et=a8(er);e(eq,ep,et)};var ea=function(){bR("CallTracking: request new phone");var eo=cE(aZ);var es=bt();var er=es?es:dU;var eq=encodeURIComponent(l);var ep=bU()+"/get-phone?visit="+eo+"&marker="+(er?er:"")+"&prefix="+c+"&prefix_bind="+aH+"&phone_scripts_bind="+cv+"&page="+eq;c8(ep,b5)};var ec=function(){c=cF.roistatPhonePrefix?cF.roistatPhonePrefix:"";aH=cF.roistatPhonePrefixBind?cF.roistatPhonePrefixBind:"";cv=cF.roistatCalltrackingScripts&&cF.roistatCalltrackingScripts.join?cF.roistatCalltrackingScripts.join(","):"";bR("CallTracking: refresh phone with prefix: "+c+", binding: "+aH+", scripts: "+cv);ea()};var en=function(){var eo=aW.get(ai)>0;var ep=K.callTrackingEnabled;return eo&&ep};var ed=function(eo){d7(eo.is_enabled)};var ek=function ek(){var ep=ei();if(!em(ep)){bR("CallTracking: invalid phone "+ep+", requesting a new one");ea()}else{bR("CallTracking: render phone "+ep);var eo=d8();var eq=a8(eg());e(ep,eo,eq)}};var ej=function(){bR("CallTracking: init");if(aJ()){bR("CallTracking: Shut down because only online chat need to be inited");return}eh();if(!en()){bR("CallTracking: disabled, skip");return}if(K.callTrackingManual){bR("CallTracking: init finish because off manual");return}ek();c9(ek)};cF.roistatCallTrackingRefresh=ec;cF.roistatRequestNewPhone=ea;cF.roistatReusePhone=ef;cF.roistatCalltrackingUpdateSettings=ed;am(ej)})();(function bH(){var d6=function(ec){bR("Emailtracking: "+ec)};var ea=function(ec,ee,ed){aW.save(u,ec,N);aW.save(cR,ee,N);aW.save(bv,JSON.stringify(ed),N)};var d5=function(){var ec=(cF.roistat.emailtracking.email&&cF.roistat.emailtracking.trackingEmail)||B(cF.roistat.emailtracking.emails);if(cF.roistat.emailtracking.loaded&&ec){d6("save loaded email: "+cF.roistat.emailtracking.email);ea(cF.roistat.emailtracking.email,cF.roistat.emailtracking.trackingEmail,cF.roistat.emailtracking.emails)}else{d6("settings save skip, because not loaded");cF.roistat.emailtracking.email=aW.get(u);cF.roistat.emailtracking.email=cF.roistat.emailtracking.email?cF.roistat.emailtracking.email:null;cF.roistat.emailtracking.email=cF.roistat.emailtracking.email==="null"?null:cF.roistat.emailtracking.email;d6("email loaded from storage: "+cF.roistat.emailtracking.email);cF.roistat.emailtracking.trackingEmail=aW.get(cR);cF.roistat.emailtracking.trackingEmail=cF.roistat.emailtracking.trackingEmail?cF.roistat.emailtracking.trackingEmail:null;cF.roistat.emailtracking.trackingEmail=cF.roistat.emailtracking.trackingEmail==="null"?null:cF.roistat.emailtracking.trackingEmail;d6("tracking email loaded from storage: "+cF.roistat.emailtracking.trackingEmail);cF.roistat.emailtracking.emails=a8(aW.get(bv));cF.roistat.emailtracking.emails=cF.roistat.emailtracking.emails?cF.roistat.emailtracking.emails:null;d6("emails loaded from storage: "+JSON.stringify(cF.roistat.emailtracking.emails))}};var d8=function(ec){ea(ec.email,ec.trackingEmail,ec.emails)};var d7=function(){var ec=(!!cF.roistat.emailtracking.email&&!!cF.roistat.emailtracking.trackingEmail)||B(cF.roistat.emailtracking.emails);return cF.roistat.emailtracking.enabled&&ec};var e=function(){if(!d7()){d6("emailtracking disabled, skip swapping");return}var ed=function(ei,ej,eh){if(ei.href){var eg=bN(ei.href);if(ej.test(eg)){ei.href=eg.replace(ej,eh);return true}}if(ei.nodeType!==3){return false}if(ei.textContent&&ej.test(ei.textContent)){ei.textContent=ei.textContent.replace(ej,eh);return true}else{if(ei.innerText&&ej.test(ei.innerText)){ei.innerText=ei.innerText.replace(ej,eh);return true}}return false};var ec=function(eg){return eg.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")};var ee=function(ei,eh){var eg=!eh.match(/[a-z]/);return eg?ei.toUpperCase():ei};var ef=function(eo,eq){var er=ec(eo);var ei=new RegExp("(^|\\s)(mailto:)?("+er+")($|\\s|\\?)","gi");var es=function(ex,ev,et,eu,ew){et=et||"";return ev+et+ee(eq,eu)+ew
};d6("starting to replace email "+eo+" to "+eq+" with regexp "+ei);var eh=cO.getElementsByTagName("*");var ek=eh.length;d6("found "+ek+" nodes on page");var en=0;for(var em=0;em<ek;em++){var ej=eh[em];var ep=ej.childNodes.length;if(ep>0){for(var el=0;el<ep;el++){var eg=ej.childNodes[el];if(ed(eg,ei,es)){en++}}}if(ed(ej,ei,es)){en++}}d6("successfully replaced "+en+" nodes")};if(cF.roistat.emailtracking.emails){c4(cF.roistat.emailtracking.emails,ef)}else{ef(cF.roistat.emailtracking.email,cF.roistat.emailtracking.trackingEmail)}};var d9=function(){d6("process email swap");e();setTimeout(function(){e()},300);setTimeout(function(){e()},5000);setTimeout(function(){e()},15000)};var eb=function(){d6("init");if(aJ()){d6("Shut down because only online chat need to be inited");return}c9(d9);d5();d9()};cF.roistatEmailtrackingUpdateSettings=d8;cF.roistat.emailtracking.refresh=e;am(eb)})();(function cZ(){var d7=function(d9){bR("MultiDomain: "+d9)};var d6=function(){return aW.get(dA)>0};var d5=function(ed){var ee=function(eg){if(!eg){return false}if(bP(eg,"roistat_visit")){return false}var ef=dR(eg);var ei=dR(cO.domain);var eh=new RegExp(/^((https?:)?\/\/)?([A-ZА-ЯЁ0-9\_\-\~]+\.)+[A-ZА-ЯЁ0-9\_\-\~]+/i);return ef!==ei&&eh.test(eg)};var ec=function(ei){var ej=ei.split("#");var eh=ej[0].split("?");var ef="";var eg="";if(eh.length===2){ef=eh[1]}if(ef){eg="&"}ef=ef+eg+"roistat_visit="+roistat.getVisit();eh[1]=ef;ej[0]=eh.join("?");return ej.join("#")};if(ed.tagName.toLowerCase()!=="a"){return}var eb=ed.getAttribute("href");var ea=false;if(ee(eb)){var d9=ec(eb);d7("update url "+eb+" > "+d9);ed.setAttribute("href",d9);ea=true}return ea};var e=function(){if(!d6()){d7("disabled, skip");return}var d9=cO.getElementsByTagName("a");var ea=d9.length;d7("found "+ea+" <a> nodes on page");var ed=0;for(var eb=0;eb<ea;eb++){var ec=d9[eb];if(d5(ec)){ed++}}d7("replaced "+ed+" nodes")};var d8=function(){d7("init");if(aJ()){d7("Shut down because only online chat need to be inited");return}e();setTimeout(function(){e()},300);setTimeout(function(){e()},5000);setTimeout(function(){e()},15000)};am(d8);c9(d8)})();(function Y(){var e=60*1000;var eb=2*60*1000;var d5=function(ed){bR("SettingsUpdater: "+ed)};var d9=function(){aW.set(cf,cC())};var ea=function(){var ee=cP();var ed=!(ee>0);d5("is first update check: lastUpdateTime="+ee+", result="+(ed?1:0));return ed};var ec=function(){var ef=cC()-eb;var ee=cP();var ed=ee<=ef;d5("expiration check: _minTime="+ef+", lastUpdateTime="+ee+", result="+(ed?1:0));return ed};var d6=function(ee){var ed=cE(aZ);cw(ed,ee)};var d7=function(ee){d5("update settings and save last update time");var ed=aW.getObject(bj)!==null;if(ed){var ef=a8(ee.js_settings.leadHunterTargetPagesMap);if(ef!==null){aW.setObject(bj,ef)}}cF.roistatCalltrackingUpdateSettings(ee.calltracking);cF.roistatEmailtrackingUpdateSettings(ee.emailtracking);cF.roistatSaveLeadHunterTemplates(ee.leadhunter_templates.form_template,ee.leadhunter_templates.pulsator_template,ee.leadhunter_templates.pulsator_settings);cF.roistatSaveMultiwidgetTemplate(ee.multiwidget_templates.pulsator_template,ee.multiwidget.pulsator_settings);cF.roistatSaveOnlineChatTemplate(ee.online_chat_templates.pulsator_template,ee.online_chat_templates.iframe_template);cF.roistatSaveProxyFormSettings(ee.proxy_forms);G(ee.js_settings);dT(ee.multiwidget.multiwidget_settings);aq(ee.online_chat);cT(ee.geo);al(ee.promo_code);D(ee.links_markup);L.isSettingsUpdating=false;d9()};var d8=function(){d5("init");if(ea()){d5("in first update we just start first timer and skip");d9();return}if(!ec()){d5("update is not not expired, skip");return}d5("start to update settings");d6()};am(function(){cF.roistatUpdateSettings=d7;setTimeout(function(){d8()},3000);d5("set interval to update settings");setInterval(function(){d8()},e)})})();(function bK(d8,e,ea){var d7={};var d5=function(ec){var eb=encodeURIComponent?encodeURIComponent:encodeURI;return eb(ec)};var d6=function(ei,ec){bR("Reach goal start");if(!ei){ei={}}var ef={leadName:"",formTitle:"",name:"",phone:"",email:"",price:"",text:"",fields:"",client_fields:"",is_need_callback:"",callback_phone:"",visit:aA(),is_skip_sending:0,items:"",placeholders_data:"",engine_type:""};for(var ee in ef){if(!Object.prototype.hasOwnProperty.call(ef,ee)){continue}if(!Object.prototype.hasOwnProperty.call(ei,ee)){continue}if(!ei[ee]){continue}if(ee==="fields"||ee==="client_fields"||ee==="items"||ee==="placeholders_data"){ei[ee]=JSON.stringify(ei[ee])}ef[ee]=d5(ei[ee])}var eh=dt();var eg=cL()+"//"+b4+"/api/site/"+d+"/"+eh+"/reach-goal?v=2";for(var ed in ef){if(!Object.prototype.hasOwnProperty.call(ef,ed)){continue}eg=eg+"&"+ed+"="+ef[ed]}if(ec!==ea){var eb=Math.random().toString();d7[eb]=ec;eg+="&callback_key="+eb}c8(eg);bR("Reach goal completed")};var d9=d8.roistatGoal={reach:function(ec,eb){d6(ec,eb)},callAfterReachCallback:function(eb){if(Object.prototype.hasOwnProperty.call(d7,eb)){d7[eb]();delete d7[eb]}}}})(cF,cO,dW);(function ad(d7,e,d8){var d5=function(ea){if(ea instanceof Array||ea===null||typeof ea!=="object"){bR("Invalid event data");
return""}return d6(ea)};var d6=function(eb,ef,ee){var ed=ef||0;var ea=ee||[];if(ed>20){bR("Recursion depth exceeded when processing additional event fields");return""}ed++;var ei=[];for(var eh in eb){if(Object.prototype.hasOwnProperty.call(eb,eh)){var eg=eb[eh];if(typeof eg==="string"||typeof eg==="number"){var ec=ea.length>0?"["+ea.join("][")+"]":"";ei.push("&data"+ec+"["+encodeURIComponent(eh)+"]="+encodeURIComponent(eg))}else{if(typeof eg==="object"){ea.push(encodeURIComponent(eh));ei.push(d6(eg,ed,ea));ea.pop()}else{bR("Event data property ignored: "+eh)}}}}return ei.length>0?ei.join(""):""};var d9=function(ec,ee){bR("Send event start");var ea=dk();var ed=d5(ee);var eb=bU()+"/event/register?visit="+ea+"&event="+ec+ed;c8(eb);bR("Send event completed")};d7.roistat.event={send:function(ea,eb){d9(ea,eb)}}})(cF,cO,dW);(function br(ee,eg,d7){if(aJ()){bR("VisitApprove: Shut down because only online chat need to be inited");return}var eh=ee.roistatIsInitVisit===true?20000:10000;var d6=(new Date()).getTime();var d5=function(el){return"approve_visit_"+el};var ed=function(el){dw.set(d5(el),1)};var ei=function(el){return dw.get(d5(el))>0};var e,d9,ek=[];if(eg.addEventListener){e=function(en,em,eo){return en.addEventListener(em,eo,false)};d9=function(en,em,eo){return en.removeEventListener(em,eo,false)}}else{e=function(en,em,eo){return en.attachEvent("on"+em,eo)};d9=function(en,em,eo){return en.detachEvent("on"+em,eo)}}var ec=function(eo){if(ek.length>30){return}eo=eo||ee.event;if(!eo||!eo.screenX){return}var en=(new Date()).getTime();var eq,ep=null;if(ek.length>0){ep=ek[ek.length-1]}if(ep){eq=en-ep.time}else{eq=en-d6}if(eq<300){return}eq=eq-300;var es=0;var el=eo.screenX;var er=eo.screenY;if(ep){es=parseInt(Math.sqrt(Math.pow(ep.y-er,2)+Math.pow(ep.x-el,2)))}var em={time:en,pauseBeforeMove:eq,x:el,y:er,distance:es};ek.push(em)};var eb=function(){var el=[];d4(ek,function(em){var en=[em.pauseBeforeMove,em.distance];el.push(en.join(":"))});if(el.length===0){el.push("0:0")}return el.join("|")};var d8=function(){for(var el in ee){if(bP(el,"yaCounter")){return true}}return false};var ef=function(){d9(eg,"mousemove",ec);var el=dk();bR("VisitApprove: start for visit "+el);if(ei(el)){bR("VisitApprove: visit already approved, skip");return}ed(el);cd();var em=bU()+"/approve?v="+c0+"&visit="+el;if(ej()){em+="&hash="+s()}if(ea()){em+="&page_params="+encodeURIComponent(JSON.stringify(ee.roistat.page.params));a7()}em+="&mv="+eb();em+="&pl="+(ee.navigator?ee.navigator.platform:"");em+="&ym="+(d8()?"1":"0");em+="&wd="+(ee.navigator?(ee.navigator.webdriver===true?"1":"0"):"0");c8(em)};var ej=function(){var ep=L.cookies,eo=bm();var er=b6();for(var em=0;em<er.length;em++){var eq=er[em];var es=Object.prototype.hasOwnProperty.call(ep,eq)?ep[eq]:d7;var el=Object.prototype.hasOwnProperty.call(eo,eq)?eo[eq]:d7;var en=typeof el==="string"&&el.length>0;if(en&&es!==el){return true}}return false};var ea=function(){var eq=L.pageParams,en=ee.roistat.page.params;for(var em=0;em<cl.length;em++){var el=cl[em];var eo=Object.prototype.hasOwnProperty.call(eq,el)?eq[el]:null;var ep=Object.prototype.hasOwnProperty.call(en,el)?en[el]:null;if(ep!==eo){return true}}return false};setTimeout(function(){ef()},eh);e(eg,"mousemove",ec)})(cF,cO,dW);(function aF(ea,eb,d6){var d8=function(){return cr("roistat_ab_demo")==="1"};var ec=function(ef){return new RegExp(ef.split(".").join("\\.").split("*").join(".*").split("?").join("."))};var d9=function(ek){var ef=ea.location.href,ei=ek.filter,eo=ek.filterValue;var el;switch(ei){case"except":case"pages":var eg,en,em=false;en=ef?aU(ef):"";el=eo?eo.split("\n"):[];if(en&&el.length!==0){for(var eh=0;eh<el.length;eh++){var ej=el[eh].trim();if(ej.length===0){continue}eg=ec(ej);if(eg.test(en)){em=true;break}}}return(ei==="pages")?em:!em;break;case"all":default:return true}};var d5=function(eh){var ef=eb.getElementsByTagName("head")[0],eg;eg=eb.createElement("style");eg.setAttribute("type","text/css");if(eg.styleSheet){eg.styleSheet.cssText=eh.value}else{eg.innerText=eh.value}ef.appendChild(eg);bR("Applied css-test: "+eh.id)};var e=function(ef){if(Object.prototype.hasOwnProperty.call(du.onAbTestsApplied,ef.id)){du.onAbTestsApplied[ef.id](ef.value)}bR("Applied uniform-test: "+ef.id)};var d7=function(ef){if(d9(ef)){switch(ef.type){case"css":d5(ef);break;case"uniform":e(ef);break}}};ea.applyTests=function(){bR("Start applying ab tests");var ef=aW.getObject("abTesting");var eh,eg;for(eh in ef){if(!Object.prototype.hasOwnProperty.call(ef,eh)){continue}eg=ef[eh];d7(eg)}L.isAbTestsApplied=true;bR("End applying ab tests");if(ea.onRoistatAbTestsApplied!==d6&&typeof ea.onRoistatAbTestsApplied==="function"){ea.onRoistatAbTestsApplied()}};var ed=function(){bR("Call: apply demo AB test");var ef=cr("roistat_ab_data");var eg;if(ef===null){return}else{eg=JSON.parse(bc.decode(ef))}if(typeof eg!=="object"){bR("Error: testValue is not an object.");return}d7(eg)};function ee(){if(aJ()){bR("ABTest: Shut down because only online chat need to be inited");
return}var ef=d8();if(!ds&&!ef){applyTests()}if(ef){ed()}}ee()})(cF,cO,dW);(function bL(d5,e,d6){if(aW.get(d0)>0){bR("visitStream: disabled by settings");return}if(aJ()){bR("visitStream: Shut down because only online chat need to be inited");return}if(!aG){return}setTimeout(function(){(function(ed,ec,eg,ef,ea,d8,eb){ed[ea]={COUNTER_ID:d8,HOST:eb};var d9=ec.location.protocol=="https:"?"https://":"http://";var d7=ec.createElement(eg);d7.async=1;d7.src=d9+eb+ef;var ee=ec.getElementsByTagName(eg)[0];ee.parentNode.insertBefore(d7,ee)})(d5,e,"script","/counter.js","datamap",dt(),aG)},1000)})(cF,cO,dW);(function V(d6,e,d7){var d8=function(){var d9=d6.roistatMetrikaCounterId;if(d9){aW.set(f,d9)}};var d5=function(ee){var d9="yaCounter"+ee;var ed=100,eb=0,ec=60000;var ea=function(){eb+=ed;bR("YandexMetrika: trying to access counter "+ee);if(d6[d9]===d7){if(eb<ec){setTimeout(ea,ed);ed*=2}return}var ef={};ef[T]=dk();d6[d9].params(ef);bR("YandexMetrika: visit id "+ef[T]+" sent to counter "+ee)};setTimeout(ea,ed)};am(function(){d8();var eb=aW.get(f);if(!eb){bR("YandexMetrika: counter id not found");return}var ea=String(eb).split(",");bR("YandexMetrika: counters: "+ea);for(var d9=0;d9<ea.length;d9++){if(ea[d9].trim()===""){continue}d5(ea[d9])}})})(cF,cO,dW);(function dh(ee,ei){var em=function(ep){bR("Proxy Forms: "+ep)};var eb=function(){if(ee.roistat.proxyForms.loaded&&ee.roistat.proxyForms.settings.length>0){em("save loaded settings");ej(ee.roistat.proxyForms.settings)}else{em("settings not loaded, getting from storage");ee.roistat.proxyForms.settings=aW.getObject(dB)||[]}};var ej=function(ep){aW.setObject(dB,ep)};var ef=function(){em("init form listener");d7(ee.roistat.proxyForms.settings);e(ee.roistat.proxyForms.settings)};var eo=function(ep){return ep.hasOwnProperty("hosts")&&ep.hasOwnProperty("is_excluding_hosts")&&A(ep.hosts)&&ep.hosts.length>0};var d9=function(eq){if(!eo(eq)){return true}var er=b1(eq.hosts,dR(ee.location.host));var ep=Boolean(eq.is_excluding_hosts);return ep?!er:er};var d6=function(eq){var ep=[];d4(eq,function(er){if(d9(er)){ep.push(er)}});return ep};var e=function(ep){var er=[];d4(ep,function(es){if(es.type==="js-button"){er.push(es)}});if(er.length<1){em("no button settings");return}var eq;if(ei.addEventListener){eq=function(es){ea(er,es,es.target,d8)};ei.addEventListener("click",eq,true)}else{if(ei.attachEvent){eq=function(){var es=ee.event;ea(er,es,es.srcElement,d8,true)};ei.attachEvent("onclick",eq)}else{em("Listener could not be attached")}}};var d7=function(eq){var ep=[];d4(eq,function(es){if(es.type==="form"){ep.push(es)}});if(ep.length<1){em("no form settings");return}if(ei.addEventListener){var er=function(es){ea(ep,es,es.target,en)};ei.addEventListener("submit",er,true)}else{if(ei.attachEvent){setInterval(function(){ep=d6(ep);var es=ei.getElementsByTagName("form");d4(es,function(et){if(et.getAttribute("data-roistat-proxy-form-checked")==="true"){return}et.setAttribute("data-roistat-proxy-form-checked","true");d4(ep,function(eu){if(d5(et,eu.selector)){et.attachEvent("onsubmit",function(){ee.event.returnValue=false;en(eu,ee.event.srcElement)})}})})},2000)}else{em("Listener could not be attached")}}};var ea=function(es,et,eu,er,ep){var ev=d6(es);var eq=null;d4(ev,function(ew){if(d5(eu,ew.selector)){eq=ew}});if(eq===null){em("No matched settings found for listener");return}er(et,eq,eu,ep)};var en=function(et,er,es,eq){var ep=eh(es,er);if(!ek(ep,er)){return}eq?et.returnValue=false:et.preventDefault();ec(ep,er,function(){HTMLFormElement.prototype.submit.call(es)})};var d8=function(er,eq){var ep=eh(null,eq);if(!ek(ep,eq)){return}ec(ep,eq)};var ec=function(ep,es,eu){var et={};var er=ed(es.crm)&&es.crm.hasOwnProperty("is_enabled");var eq=er?es.crm.is_enabled:true;et.leadName=es.hasOwnProperty("lead_name")?es.lead_name:"Новый лид с формы "+es.title;et.formTitle=es.title;et.name=ep.name;et.phone=ep.phone;et.email=ep.email;et.text=ep.comment;et.fields=ep.fields;et.placeholders_data=ep.placeholdersData;et.is_need_callback=es.is_need_callback>0?1:0;et.is_skip_sending=!eq;ee.roistatGoal.reach(et,eu)};var ed=function(ep){return(typeof ep==="number"&&!isNaN(ep))||(typeof ep==="string"&&ep!=="")||(typeof ep==="object"&&ep!==null)||(typeof ep==="boolean"&&ep)||A(ep)};var ek=function(ep,er){var eq=[],et=["name","email","phone","comment"];d4(et,function(eu){if(er.hasOwnProperty(eu)&&er[eu].required>0){eq.push(eu)}});if(A(er.fields)){d4(er.fields,function(eu){if(eu.required>0){eq.push(eu)}})}var es=true;d4(eq,function(eu){if(!ep.hasOwnProperty(eu)||!ed(ep[eu])){es=false}});return es};var eh=function(er,eq){var ep={};ep.name=eq.name?eg(er,eq.name.value,eq.name.type):"";ep.phone=eq.phone?eg(er,eq.phone.value,eq.phone.type):"";ep.email=eq.email?eg(er,eq.email.value,eq.email.type):"";ep.comment=eq.comment?eg(er,eq.comment.value,eq.comment.type):"";ep.fields={};ep.placeholdersData={orderPage:l};if(A(eq.fields)){d4(eq.fields,function(es){ep.fields[es.name]=eg(er,es.value,es.type)})}return ep};var eg=function(eq,et,ep){switch(ep){case"plain":return et||"";
case"input":var es=eq.querySelector('input[name="'+et+'"]');return es?es.value:"";case"js":try{return(new Function(et))()}catch(er){return""}}};var el=function(){em("init");if(aJ()){em("Shut down because only online chat need to be inited");return}if(!ee.roistat.proxyForms.enabled){em("disabled");return}eb();ef()};var d5=function(es,eq){if(typeof Element!=="undefined"&&Element.prototype.matches){var ep=es.matches(eq);if(!ep){return es.closest(eq)?es.closest(eq).matches(eq):false}return ep}else{if(typeof Element!=="undefined"&&Element.prototype.matchesSelector){var et=es.matchesSelector(eq);if(!et){return es.closest(eq)?es.closest(eq).matches(eq):false}return et}else{if(ei.querySelectorAll){var eu=ei.querySelectorAll(eq);for(var er=0;er<eu.length;er++){if(eu[er]===es){return true}}return false}}}return false};am(el);ee.roistatSaveProxyFormSettings=ej})(cF,cO);(function S(){if(cF.onRoistatAllModulesLoaded!==dW&&typeof cF.onRoistatAllModulesLoaded==="function"){bR("onRoistatAllModulesLoaded: call");cF.onRoistatAllModulesLoaded()}})();(function C(eb,ee,d8){var e=function(){return aW.get(d3)*1>0};var ed=function(ek){bR("Request listener: "+ek)};var ej=/^(8|7|380|45|370|375|1|48|357|44|373|371|49|971|996|995|972|420|33|90|34|55|61|52|60|374|43|41|351)?(\d){9,13}$/g;var ec=/^[^\s]+[@][^\s]+$/g;var d7=["mc.yandex.ru"];var d6=function d6(){ed("listen");if(eb.XMLHttpRequest){XMLHttpRequest.prototype.oldSend=XMLHttpRequest.prototype.send;function em(ep){var eo=this;ef(eo.responseURL,ep,function(){eo.oldSend(ep)})}XMLHttpRequest.prototype.send=em}if(eb.ActiveXObject){var el=en;function en(eq){var eo=new el(eq);var er={};if(eq.toLowerCase()==="msxml2.xmlhttp"){er={_ax:eo,_status:"fake",responseText:"",responseXml:null,readyState:0,status:0,statusText:0,onReadyStateChange:null};var ep="";er._onReadyStateChange=function(){var es=er;return function(){es.readyState=es._ax.readyState;if(es.readyState===4){es.responseText=es._ax.responseText;es.responseXml=es._ax.responseXml;es.status=es._ax.status;es.statusText=es._ax.statusText}if(es.onReadyStateChange){es.onReadyStateChange()}}}();er.open=function(ew,eu,ev,es,et){ep=eu;ev=(ev!==false);this._ax.onReadyStateChange=this._onReadyStateChange;return this._ax.open(ew,eu,ev,es,et)};er.send=function(es){var et=this;ef(ep,es,function(){this._ax.send(es)})}}else{er=eo}return er}eb.ActiveXObject=en}if(eb.fetch){var ek=fetch;fetch=function(eo,ep){ef(eo.url,ep||{});return ek(eo,ep||{})}}eb.addEventListener("submit",function(er){var et=er.target.elements;var es={};for(var eq=0;eq<et.length;eq++){var ep=et[eq];var eo=ep.getAttribute("name");es[eo]=ep.value}ef("",es)})};function d9(ek){var en={};if(ek.length===0){return en}var em=ek.split("?");if(em.length<2){return en}var el=em[1];en=d5(el);return en}function d5(el){var em=el.split("&"),eo={};for(var ek=0;ek<em.length;ek++){var en=em[ek].split("=");if(en.length<2){continue}eo[en[0]]=en[1]}return eo}function eh(eB){ed("data: "+JSON.stringify(eB));var eu={email:["email","Email","EMAIL","mail","MAIL","Mail"],phone:["phone","Phone","PHONE","tel","Tel","TEL"],name:["name","Name","NAME","full_name","Full_Name","FULL_NAME"]};var er={email:"",phone:"",name:""};for(var ek in eu){var ex=eu[ek];for(var ew in ex){if(ex.hasOwnProperty(ew)){if(eB.hasOwnProperty(ex[ew])){er[ek]=eB[ex[ew]];break}}}}ed("new data: "+JSON.stringify(er));var em=er.phone.length===0;var eq=er.email.length===0;if(!em&&!eq){return er}var el=new RegExp(ec);var ep=new RegExp(ej);var es=Object.keys(eB);for(var ey=0;ey<es.length;ey++){var ev=decodeURIComponent(String(eB[es[ey]]));if(eq){var en=ev.match(el);if(en&&en.length>0){var et=er.email;er.email=en[0];ed("parsing email, before: "+et+", after: "+er.email)}}if(em){var eA=ev.replace(/[\s-.()+*_—:;'"`]/g,"");var ez=eA.match(ep);if(ez&&ez.length>0){var eo=er.phone;er.phone=ev;ed("parsing phone, before: "+eo+", after: "+er.phone)}}}return er}var ea=function(ek){var el=dR(ek);return !ax(d7,el)};function ef(em,el,ek){if(em.length>0&&!ea(em)){return}var eo=d9(em);var eq=el;if(typeof eq==="string"){eq=d5(eq)}ed("data before parsing "+JSON.stringify({get:eo,post:eq}));var ep=eh(eo);var en=eh(eq);ed("data after parsing "+JSON.stringify({get:ep,post:en}));eg(ep,en,ek)}function eg(ek,em,eq){var ep=ek.email.length>0?ek.email:em.email;var el=ek.phone.length>0?ek.phone:em.phone;var eo=ek.name.length>0?ek.name:em.name;if(ep.length==0&&el.length==0){eq();return}setTimeout(function(){eq()},100);var en={leadName:"Автоматический лид с сайта",name:eo,phone:el,email:ep,is_skip_sending:1};ed("phone or email is not empty, reaching goal "+JSON.stringify(en));roistatGoal.reach(en)}(function ei(){if(!e()){ed("disabled, skip");return}d6()})()})(cF,cO,dW);(function a9(ea,eb,d5){var e=false;var d6=false;var ec=[{url:"ozon.ru",isValid:function(){return d8()&&e},tag:function(){return d8()?"vendor_org_"+encodeURIComponent(ea.roistat.linksMarkup.ozonId):""}},{url:"wildberries.ru",isValid:function(){return d8()&&d6},tag:function(){return d8()?encodeURIComponent(ea.roistat.linksMarkup.wildberriesId)+"-id-my_ad_campaign":""
}}];var d9=function(ed){bR("Links markup: "+ed)};var d8=function(){return typeof ea.roistat==="object"&&ea.roistat!==null&&typeof ea.roistat.linksMarkup==="object"&&ea.roistat.linksMarkup!==null};var d7=function(ef){var ee={};var ed=ef.charAt(0)==="?"?ef.slice(1):ef;ed.split("&").forEach(function(eg){var [key,eh]=eg.split("=").map(bN);if(key.trim()===""||eh.trim()===""){return}ee[key]=eh});return ee};var getUrlTags=function(){var ej=["utm_campaign","utm_source","utm_medium","utm_term","utm_content","roistat"];var el={};d9("get url tags");var ek=d7(ea.location.search);Object.keys(ek).forEach(function(em){if(ej.indexOf(em)!==-1){el[em]=ek[em]}});return el};var getLinksByUrl=function(){var ek=new RegExp(/^((https?:)?\/\/)?([A-ZА-ЯЁ0-9\_\-\~]+\.)+[A-ZА-ЯЁ0-9\_\-\~]+/i);var ej=eb.querySelectorAll("a");var el={};d9("get integration links");ej.forEach(function(em){var eo=em.href;if(ek.test(eo)){var en=dR(eo);ec.forEach(function(ep){if(ep.isValid()&&en.indexOf(ep.url)===0&&eo.indexOf(ep.tag())===-1){if(typeof el[ep.url]==="undefined"){el[ep.url]=[]}el[ep.url].push(em)}})}});return el};var addTagsToLinks=function(em,el){var ej="utm_campaign";d9("remove utm_campaign from tags");delete el[ej];var ek=Object.keys(el).map(function(en){return encodeURIComponent(en)+"="+encodeURIComponent(el[en])}).join("&");if(ek.length>0){ek="&"+ek}d9("prepared tags for link without utm_campaign: "+ek);ec.forEach(function(eo){if(typeof em[eo.url]==="undefined"){return}d9("add tags for: "+eo.url);var ep=ej+"="+eo.tag();var en=ep+ek;em[eo.url].forEach(function(eq){var es=eq.href.split("#");var er=es[0].split("?");er[1]=er.length===2&&er[1]!==""?er[1]+"&"+en:en;es[0]=er.join("?");eq.href=es.join("#")})})};var processLinksMarkup=function(){d9("try to find tags and integration urls");var ej=getUrlTags();if(Object.keys(ej).length===0){d9("no tags in url, skip");return}var ek=getLinksByUrl();if(Object.keys(ek).length===0){d9("no links found, skip");return}addTagsToLinks(ek,ej);d9("tags added, done")};var bG=function(){d9("init");var ej=aW.getObject(bk);if(ej&&ej.hasOwnProperty("id_ozon")&&ej.hasOwnProperty("id_wildberries")){ea.roistat.linksMarkup.ozonId=ej.id_ozon;ea.roistat.linksMarkup.wildberriesId=ej.id_wildberries;d9("set settings from storage")}else{d9("disabled, skip.");return}e=typeof ea.roistat.linksMarkup.ozonId==="string"&&ea.roistat.linksMarkup.ozonId.trim()!=="";d6=typeof ea.roistat.linksMarkup.wildberriesId==="string"&&ea.roistat.linksMarkup.wildberriesId.trim()!=="";if(e||d6){processLinksMarkup();setTimeout(function(){processLinksMarkup()},300);setTimeout(function(){processLinksMarkup()},5000);setTimeout(function(){processLinksMarkup()},15000)}else{d9("settings are empty, skip.")}};am(bG);c9(bG)})(cF,cO,dW)})(window,document,undefined);